{"version":3,"sources":["config.js","components/common/BoxedLayoutButton.js","components/common/Header.js","config.production.js","util/http.js","util/api.js","util/index.js","components/common/WithAPIData.js","components/common/StatusBadge.js","components/common/Sidebar.js","components/common/FooterUpdateStatus.js","components/common/Footer.js","components/dashboard/SummaryStats.js","components/dashboard/QueriesGraph.js","components/dashboard/ChartTooltip.js","components/dashboard/ClientsGraph.js","components/dashboard/GenericDoughnutChart.js","components/dashboard/QueryTypesChart.js","components/dashboard/UpstreamsChart.js","components/dashboard/TopTable.js","components/dashboard/TopDomains.js","components/dashboard/TopBlocked.js","components/dashboard/TopClients.js","components/log/QueryLog.js","components/list/DomainInput.js","components/common/Alert.js","components/list/DomainList.js","components/list/ListPage.js","validate.js","views/Whitelist.js","views/Blacklist.js","views/Regexlist.js","components/settings/VersionCard.js","components/settings/VersionInfo.js","components/settings/DHCPInfo.js","components/settings/DnsListItem.js","components/settings/preconfiguredUpstreams.js","components/settings/DnsListNewItem.js","components/settings/DnsList.js","components/settings/ConditionalForwardingSettings.js","components/settings/DnsOptionSettings.js","components/settings/DNSInfo.js","components/settings/NetworkInfo.js","components/settings/FTLInfo.js","views/Networking.js","components/login/ForgotPassword.js","views/Login.js","views/Logout.js","routes.js","views/Dashboard.js","views/Versions.js","containers/Full.js","index.js","i18n.js","img/logo.svg"],"names":["config","boxedLayoutToggle","document","body","classList","toggle","BoxedLayoutButton","react_default","a","createElement","className","title","type","onClick","sidebarMinimize","e","preventDefault","mobileSidebarToggle","mobileSidebarHide","remove","Header","style","marginLeft","Link","to","textAlign","color","lineHeight","developmentMode","fakeAPI","http","url","options","arguments","length","undefined","fetch","urlFor","Object","objectSpread","credentials","credentialType","then","checkIfLoggedOut","convertJSON","catch","checkForErrors","data","method","JSON","stringify","headers","Headers","Content-Type","response","api","loggedIn","status","cookie","window","location","reload","Promise","reject","isCanceled","resolve","Error","json","error","endpoint","authenticate","key","X-Pi-hole-Authenticate","logout","getSummary","getHistoryGraph","getClientsGraph","getQueryTypes","getUpstreams","getTopDomains","getTopBlocked","getTopClients","getHistory","params","keys","map","join","getWhitelist","getBlacklist","getRegexlist","addWhitelist","domain","addBlacklist","addRegexlist","removeWhitelist","removeBlacklist","removeRegexlist","encodeURIComponent","getStatus","getNetworkInfo","getVersion","getFTLdb","getDNSInfo","getDHCPInfo","updateDHCPInfo","settings","updateDNSInfo","padNumber","num","substr","makeCancelable","promise","_ref","_ref$repeat","repeat","_ref$interval","interval","hasCanceled","repeatId","handle","val","isError","setTimeout","cancel","clearTimeout","ignoreCancel","err","Result","Ok","value","Err","isOk","result","isErr","WithAPIData","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","apiResult","loadData","cancelOptions","props","repeatOptions","dataHandle","apiCall","setState","inherits","createClass","renderOk","renderErr","renderInitial","Component","defaultProps","StatusBadge","t","TranslatedStatusBadge","translate","common_StatusBadge","WithAPIData_WithAPIData","assign","handleClick","target","parentElement","navList","items","item","index","auth","authStrict","children","routeName","pathname","startsWith","dropDownClassList","icon","name","navDropdown","reactstrap_es","NavLink","activeClassName","navItem","objectWithoutProperties","src","logo","height","alt","paddingLeft","textTransform","fontSize","marginBottom","href","common_FooterUpdateStatus","SummaryStats","react","totalQueries","count","uniqueClients","blockedQueries","percentBlocked","gravityDomains","errorProps","initialProps","TranslatedSummaryStats","dashboard_SummaryStats","total_queries","reduce","total","queryType","toLocaleString","blocked_queries","percent_blocked","toFixed","gravity_size","total_clients","transformData","QueriesGraph","labels","datasets","label","domains_over_time","fill","backgroundColor","borderColor","pointBorderColor","pointRadius","pointHoverRadius","pointHitRadius","cubicInterpolationMode","blocked_over_time","tooltips","enabled","mode","callbacks","tooltipItem","time","xLabel","match","hour","parseInt","minute","from","tooltipItems","datasetIndex","percentage","blocked","yLabel","legend","display","scales","xAxes","unit","displayFormats","tooltipFormat","yAxes","ticks","beginAtZero","maintainAspectRatio","react_chartjs_2_es","width","loading","background","position","top","left","loadingProps","TranslatedQueriesGraph","dashboard_QueriesGraph","slice","step","Date","timestamp","ChartTooltip","tooltip","_this2","lastTime","now","handler","custom","opacity","chart","current","chartInstance","canvas","getBoundingClientRect","caretX","offsetWidth","caretY","scrollY","fontFamily","_bodyFontFamily","bodyFontSize","fontStyle","_bodyFontStyle","padding","yPadding","xPadding","lines","i","colors","labelColors","sort","b","split","localeCompare","borderWidth","ClientsGraph","graphRef","React","createRef","itemSort","stacked","ref","ReactDOM","createPortal","dashboard_ChartTooltip","TranslatedClientsGraph","dashboard_ClientsGraph","overTime","over_time","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","clients","Symbol","iterator","next","done","client","push","ip","Math","random","toString","padStart","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","destination","hasOwnProperty","GenericDoughnutChart","chartRef","legendItems","forceUpdate","dataset","meta","getDatasetMeta","hidden","toConsumableArray","_ref2","slicedToArray","dashboard_GenericDoughnutChart","_ref3","apiHandler","GenericDoughnutChart_GenericDoughnutChart","apiData","usedColors","entry","percent","previous","upstreams","upstream","TopTable","generateTable","isEmpty","emptyMessage","header","generateRows","overflowX","dashboard_TopTable","initialData","TopTable_TopTable","topDomains","top_domains","verticalAlign","totalBlocked","topBlocked","topClients","top_clients","QueryLog","updateHandler","history","cursor","atEnd","getRowProps","rowInfo","row","code","includes","fetchQueries","page","pageSize","react_table_es","columns","showPaginationTop","sortable","filterable","onFetchData","getTrProps","ofText","PadRowComponent","queryTypes","id","accessor","r","Cell","date","month","toLocaleDateString","i18n","language","dayOfMonth","getDate","getHours","getMinutes","second","getSeconds","minWidth","dnssec","filterMethod","filter","toLowerCase","reply","response_time","replyTypes","DomainInput","isValid","handleChange","handleSubmit","onEnter","onValidationError","_this$props","placeholder","onRefresh","onSubmit","onChange","disabled","Alert","message","domains","onRemove","size","marginTop","role","ListPage","messageType","onAlreadyAdded","prevDomains","addHandler","add","onAdded","onAddFailed","onAdding","prevState","onRemoved","onRemoveFailed","removeHandler","refreshHandler","refresh","handleValidationError","validationErrorMsg","list_DomainInput","note","common_Alert","list_DomainList","isValidHostname","hostname","segments","some","segment","isPositiveNumber","test","isValidDomain","input","isValidRegex","regex","RegExp","isValidIpv4","address","every","list_ListPage","VersionCard","collapsed","branch","tag","isOpen","hash","VersionInfo","settings_VersionCard","core","ftl","web","versionPropType","PropTypes","shape","string","isRequired","TranslatedVersionInfo","settings_VersionInfo","DHCPInfo","alertMessage","alertType","showAlert","processing","active","ip_start","ip_end","router_ip","lease_time","ipv6_support","loadDHCPInfo","loadHandler","res","attr","oldState","defineProperty","saveSettings","isSettingValid","validator","hideAlert","isIpStartValid","isIpEndValid","isRouterIpValid","isLeaseTimeValid","isDomainValid","alert","check","checked","for","sm","invalid","addonType","DnsListItem","preconfiguredUpstreamOptions","primaryIpv4","secondaryIpv4","primaryIpv6","secondaryIpv6","flatMap","parseUpstream","order","parsedUpstreams","DnsListNewItem","selected","getAddress","typeahead","isAddressValid","lib","onInputChange","emptyLabel","bodyContainer","onAdd","getInstance","clear","isValidIpv4OptionalPort","DnsList","overflowY","maxHeight","settings_DnsListItem","settings_DnsListNewItem","ConditionalForwardingSettings","onUpdate","routerIp","DnsOptionSettings","listeningType","fqdnRequired","bogusPriv","DNSInfo","upstreamDns","conditionalForwarding","loadDNSInfo","savedDomain","conditional_forwarding","upstream_dns","fqdn_required","bogus_priv","listening_type","handleUpstreamAdd","handleUpstreamRemove","handleConditionalForwardingUpdate","handleDnsOptionsUpdate","isCFSettingValid","settings_DnsList","settings_ConditionalForwardingSettings","settings_DnsOptionSettings","NetworkInfo","plaintext","interface","ipv4Address","ipv6Address","TranslatedNetworkInfo","settings_NetworkInfo","ipv4_address","ipv6_address","FTLInfo","queries","fileSize","sqliteVersion","TranslatedFTLInfo","settings_FTLInfo","filesize","sqlite_version","Networking","activeTab","setTab","tab","tabContent","component","tabId","tabs","settings_DHCPInfo","settings_DNSInfo","ForgotPassword","isExpanded","paddingRight","margin","Login","password","cookiesEnabled","handlePasswordChange","keyCode","hashedPassword","sha","update","digest","console","log","locationState","navigator","cookieEnabled","Redirect","float","routes","host","autoFocus","login_ForgotPassword","Logout","/dashboard","/query-log","/whitelist","/blacklist/exact","/blacklist/regex","/settings/versions","/settings/networking","/login","/logout","nav","dashboard_QueryTypesChart","dashboard_UpstreamsChart","dashboard_TopDomains","dashboard_TopBlocked","dashboard_TopClients","Whitelist","Blacklist","Regexlist","createRoute","routeData","Full_AuthRoute","path","Route","AuthRoute","rest","render","use","XHR","LanguageDetector","reactI18nextModule","init","fallbackLng","ns","defaultNS","fallbackNS","nsSeparator","keySeparator","debug","interpolation","escapeValue","backend","loadPath","wait","BrowserRouter","Switch","common_Sidebar","exact","common_Footer","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.63fd96cc.chunk.js","sourcesContent":["/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Config handler\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport developmentConfig from \"./config.development\";\nimport productionConfig from \"./config.production\";\n\nlet config;\nif (process.env.NODE_ENV === \"development\") config = developmentConfig;\nelse config = productionConfig;\n\nif (process.env.REACT_APP_FAKE_API) config.fakeAPI = true;\n\nexport default config;\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2018 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Boxed layout button\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\n\nconst boxedLayoutToggle = () => {\n  document.body.classList.toggle(\"boxcontainer\");\n  document.body.classList.toggle(\"background-image\");\n};\n\nexport default () => {\n  return (\n    <div className=\"container-toggler\">\n      <button\n        className=\"container-toggler-button\"\n        title=\"BOXED_LAYOUT_TEST_BUTTON\"\n        type=\"button\"\n        onClick={boxedLayoutToggle}\n      >\n        <i className=\"fa fa-exchange\" />\n      </button>\n    </div>\n  );\n};\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Header component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport BoxedLayoutButton from \"./BoxedLayoutButton\";\n\n//const sidebarToggle = e => {\n//  e.preventDefault();\n//  document.body.classList.toggle('sidebar-hidden');\n//};\n\nconst sidebarMinimize = e => {\n  e.preventDefault();\n  document.body.classList.toggle(\"sidebar-minimized\");\n  document.body.classList.toggle(\"brand-minimized\");\n};\n\nexport const mobileSidebarToggle = () => {\n  document.body.classList.toggle(\"sidebar-show\");\n};\n\nexport const mobileSidebarHide = () => {\n  document.body.classList.remove(\"sidebar-show\");\n};\n\n//const asideToggle = e => {\n//  e.preventDefault();\n//  document.body.classList.toggle('aside-menu-hidden');\n//};\n\nexport default () => (\n  <header className=\"app-header navbar\">\n    <button\n      className=\"navbar-toggler d-lg-none\"\n      style={{ marginLeft: \"16px\" }}\n      onClick={mobileSidebarToggle}\n      type=\"button\"\n    >\n      &#9776;\n    </button>\n    <Link\n      to=\"/dashboard\"\n      className=\"navbar-brand\"\n      style={{ textAlign: \"center\" }}\n    >\n      <span style={{ color: \"white\", lineHeight: \"40px\" }}>\n        <span className=\"navbar-brand-full\">\n          Pi-\n          <b>hole</b>\n        </span>\n        <span className=\"navbar-brand-minimized\">\n          P<b>h</b>\n        </span>\n      </span>\n    </Link>\n    <ul className=\"nav navbar-nav d-md-down-none mr-auto\">\n      <li className=\"nav-item\">\n        <button\n          className=\"nav-link navbar-toggler sidebar-toggler\"\n          type=\"button\"\n          onClick={sidebarMinimize}\n        >\n          &#9776;\n        </button>\n      </li>\n    </ul>\n    <BoxedLayoutButton />\n  </header>\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Production config\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nexport default {\n  developmentMode: false,\n  fakeAPI: false\n};\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Basic HTTP functions for accessing API endpoints\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport api from \"./api\";\nimport config from \"../config\";\n\n/**\n * A group of HTTP functions. Each function parses the response checks for\n * errors\n */\nexport default {\n  /**\n   * Perform a GET request\n   *\n   * @param url the URL to access\n   * @param options optional fetch configuration\n   * @returns {Promise<* | never>} a promise with the data or error returned\n   */\n  get(url, options = {}) {\n    return fetch(urlFor(url), {\n      credentials: credentialType(),\n      ...options\n    })\n      .then(checkIfLoggedOut)\n      .then(convertJSON)\n      .catch(convertJSON)\n      .then(checkForErrors);\n  },\n\n  /**\n   * Perform a POST request\n   *\n   * @param url the URL to access\n   * @param data the data to send\n   * @returns {Promise<* | never>} a promise with the data or error returned\n   */\n  post(url, data) {\n    return fetch(urlFor(url), {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: new Headers({ \"Content-Type\": \"application/json\" }),\n      credentials: credentialType()\n    })\n      .then(checkIfLoggedOut)\n      .then(convertJSON)\n      .catch(convertJSON)\n      .then(checkForErrors);\n  },\n\n  /**\n   * Perform a PUT request\n   *\n   * @param url the URL to access\n   * @param data the data to send\n   * @returns {Promise<* | never>} a promise with the data or error returned\n   */\n  put(url, data) {\n    return fetch(urlFor(url), {\n      method: \"PUT\",\n      body: JSON.stringify(data),\n      headers: new Headers({ \"Content-Type\": \"application/json\" }),\n      credentials: credentialType()\n    })\n      .then(checkIfLoggedOut)\n      .then(convertJSON)\n      .catch(convertJSON)\n      .then(checkForErrors);\n  },\n\n  /**\n   * Perform a DELETE request\n   *\n   * @param url the URL to access\n   * @returns {Promise<* | never>} a promise with the data or error returned\n   */\n  delete(url) {\n    return fetch(urlFor(url), {\n      method: \"DELETE\",\n      credentials: credentialType()\n    })\n      .then(checkIfLoggedOut)\n      .then(convertJSON)\n      .catch(convertJSON)\n      .then(checkForErrors);\n  }\n};\n\n/**\n * If the user is logged in, check if the user's session has lapsed.\n * If so, log them out and refresh the page.\n *\n * @param response the Response from fetch\n * @return {Promise} if logged in, the response, otherwise a canceled promise\n */\nconst checkIfLoggedOut = response => {\n  if (api.loggedIn && response.status === 401) {\n    // Clear the user's old session and refresh the page\n    document.cookie =\n      \"user_id=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n    window.location.reload();\n    return Promise.reject({ isCanceled: true });\n  }\n\n  return Promise.resolve(response);\n};\n\n/**\n * If the input is a Response, return a promise for parsing the JSON.\n * If the input is an Error, return a rejecting promise with error.\n * If the request was canceled, return a rejecting promise with cancel object.\n *\n * @param data a Response or Error\n * @returns {*} a promise with the parsed JSON, or the error\n */\nconst convertJSON = data => {\n  if (data.isCanceled || data instanceof Error) {\n    return Promise.reject(data);\n  }\n\n  return data.json();\n};\n\n/**\n * Check for an error returned by the API\n *\n * @param data the parsed JSON body of the response\n * @returns {*} a resolving promise with the data if no error, otherwise a\n * rejecting promise with the error\n */\nconst checkForErrors = data => {\n  if (data.error) {\n    return Promise.reject(data.error);\n  }\n\n  return Promise.resolve(data);\n};\n\n/**\n * Get the URL for an endpoint\n *\n * @param endpoint the endpoint\n * @returns {string} the URL for the endpoint\n */\nconst urlFor = endpoint => {\n  let apiLocation;\n\n  if (config.fakeAPI) {\n    apiLocation = process.env.PUBLIC_URL + \"/fakeAPI\";\n  } else {\n    apiLocation = \"/admin/api\";\n  }\n\n  return apiLocation + \"/\" + endpoint;\n};\n\n/**\n * Get the credential type for requests\n *\n * @returns {string} the credential type\n */\nconst credentialType = () => {\n  // Development API requests use a different origin (pi.hole) since it is running off of the developer's machine.\n  // Therefore, allow credentials to be used across origins when in development mode.\n  return config.developmentMode ? \"include\" : \"same-origin\";\n};\n","import http from \"./http\";\nimport config from \"../config\";\n\nexport default {\n  loggedIn: false,\n  authenticate(key) {\n    return http.get(\"auth\", {\n      headers: new Headers({ \"X-Pi-hole-Authenticate\": key })\n    });\n  },\n  logout() {\n    return http.delete(\"auth\");\n  },\n  getSummary() {\n    return http.get(\"stats/summary\");\n  },\n  getHistoryGraph() {\n    return http.get(\"stats/overTime/history\");\n  },\n  getClientsGraph() {\n    return http.get(\"stats/overTime/clients\");\n  },\n  getQueryTypes() {\n    return http.get(\"stats/query_types\");\n  },\n  getUpstreams() {\n    return http.get(\"stats/upstreams\");\n  },\n  getTopDomains() {\n    return http.get(\"stats/top_domains\");\n  },\n  getTopBlocked() {\n    // The API uses a GET parameter to differentiate top domains from top\n    // blocked, but the fake API is not able to handle GET parameters right now.\n    const url = config.fakeAPI\n      ? \"stats/top_blocked\"\n      : \"stats/top_domains?blocked=true\";\n\n    return http.get(url);\n  },\n  getTopClients() {\n    return http.get(\"stats/top_clients\");\n  },\n  getHistory(params) {\n    return http.get(\n      \"stats/history?\" +\n        Object.keys(params)\n          .map(key => key + \"=\" + params[key])\n          .join(\"&\")\n    );\n  },\n  getWhitelist() {\n    return http.get(\"dns/whitelist\");\n  },\n  getBlacklist() {\n    return http.get(\"dns/blacklist\");\n  },\n  getRegexlist() {\n    return http.get(\"dns/regexlist\");\n  },\n  addWhitelist(domain) {\n    return http.post(\"dns/whitelist\", { domain: domain });\n  },\n  addBlacklist(domain) {\n    return http.post(\"dns/blacklist\", { domain: domain });\n  },\n  addRegexlist(domain) {\n    return http.post(\"dns/regexlist\", { domain: domain });\n  },\n  removeWhitelist(domain) {\n    return http.delete(\"dns/whitelist/\" + domain);\n  },\n  removeBlacklist(domain) {\n    return http.delete(\"dns/blacklist/\" + domain);\n  },\n  removeRegexlist(domain) {\n    return http.delete(\"dns/regexlist/\" + encodeURIComponent(domain));\n  },\n  getStatus() {\n    return http.get(\"dns/status\");\n  },\n  getNetworkInfo() {\n    return http.get(\"settings/network\");\n  },\n  getVersion() {\n    return http.get(\"version\");\n  },\n  getFTLdb() {\n    return http.get(\"settings/ftldb\");\n  },\n  getDNSInfo() {\n    return http.get(\"settings/dns\");\n  },\n  getDHCPInfo() {\n    return http.get(\"settings/dhcp\");\n  },\n  updateDHCPInfo(settings) {\n    return http.put(\"settings/dhcp\", settings);\n  },\n  updateDNSInfo(settings) {\n    return http.put(\"settings/dns\", settings);\n  }\n};\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Various utilities\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\n/**\n * Pad a two digit number\n *\n * @param num the number\n * @returns {string} a padding number string\n */\nexport const padNumber = num => {\n  return (\"00\" + num).substr(-2, 2);\n};\n\n/**\n * Make a promise cancelable and repeatable\n *\n * @param promise the promise\n * @param repeat the function to call to repeat the promise\n * @param interval the amount of time to wait until repeating\n * @returns {{promise: Promise<any>, cancel(): void}} a handle on the cancelable\n * promise\n */\nexport const makeCancelable = (\n  promise,\n  { repeat = null, interval = 0 } = {}\n) => {\n  let hasCanceled = false;\n  let repeatId = null;\n\n  const handle = (resolve, reject, val, isError) => {\n    if (hasCanceled) reject({ isCanceled: true });\n    else {\n      if (isError) reject(val);\n      else resolve(val);\n\n      if (repeat) repeatId = setTimeout(repeat, interval);\n    }\n  };\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(\n      val => handle(resolve, reject, val, false),\n      error => handle(resolve, reject, error, true)\n    );\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      clearTimeout(repeatId);\n      hasCanceled = true;\n    }\n  };\n};\n\n/**\n * Ignore canceled promises (pass into a promise's catch function)\n *\n * @param err the error from catching the promise\n */\nexport const ignoreCancel = err => {\n  if (!err.isCanceled) throw err;\n};\n\n/**\n * A result type, similar to Rust's Result.\n * A result can either be Ok or Err\n */\nexport const Result = {\n  /**\n   * Create a new Ok Result\n   *\n   * @param value the value of the result\n   */\n  Ok: value => ({ type: \"Ok\", value }),\n\n  /**\n   * Create a new Err Result\n   *\n   * @param value the value of the result (error)\n   */\n  Err: value => ({ type: \"Err\", value }),\n\n  /**\n   * Check if the result is Ok\n   * @param result the result\n   * @returns {boolean} if it is an Ok result\n   */\n  isOk: result => result.type === \"Ok\",\n\n  /**\n   * Check if the result is Err\n   * @param result the result\n   * @returns {boolean} if it is an Err result\n   */\n  isErr: result => result.type === \"Err\"\n};\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  WithAPIData Component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ignoreCancel, makeCancelable, Result } from \"../../util\";\n\n/**\n * A component for getting API data. It can retrieve information once,\n * periodically, or on call (refresh).\n */\nexport class WithAPIData extends Component {\n  static propTypes = {\n    apiCall: PropTypes.func.isRequired,\n    repeatOptions: PropTypes.shape({\n      ignoreCancel: PropTypes.bool,\n      interval: PropTypes.number\n    }),\n\n    /**\n     * Render the children before the first API request is done\n     */\n    renderInitial: PropTypes.func.isRequired,\n\n    /**\n     * Render the children if the API request succeeded\n     *\n     * @param data the data returned from the API call\n     * @param refresh a function to trigger an asynchronous data refresh\n     */\n    renderOk: PropTypes.func.isRequired,\n\n    /**\n     * Render the children if the API request failed\n     *\n     * @param error the error returned from the API call\n     * @param refresh a function to trigger an asynchronous data refresh\n     */\n    renderErr: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    repeatOptions: {\n      ignoreCancel: true,\n      interval: 0\n    }\n  };\n\n  state = {\n    apiResult: null\n  };\n\n  loadData = () => {\n    // Only repeat if there is a non-zero repeat interval\n    const cancelOptions = {\n      repeat: this.props.repeatOptions.interval !== 0 ? this.loadData : null,\n      interval: this.props.repeatOptions.interval\n    };\n\n    this.dataHandle = makeCancelable(this.props.apiCall(), cancelOptions);\n\n    this.dataHandle.promise\n      .then(data => {\n        this.setState({\n          apiResult: Result.Ok(data)\n        });\n      })\n      .catch(error => {\n        if (this.props.repeatOptions.ignoreCancel) {\n          ignoreCancel(error);\n        } else {\n          throw error;\n        }\n      })\n      .catch(error => {\n        this.setState({\n          apiResult: Result.Err(error)\n        });\n      });\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentWillUnmount() {\n    this.dataHandle.cancel();\n  }\n\n  render() {\n    if (!this.state.apiResult) {\n      return this.props.renderInitial();\n    }\n\n    if (Result.isOk(this.state.apiResult)) {\n      return this.props.renderOk(this.state.apiResult.value, this.loadData);\n    } else {\n      return this.props.renderErr(this.state.apiResult.value, this.loadData);\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport { WithAPIData } from \"./WithAPIData\";\n\nclass StatusBadge extends Component {\n  static propTypes = {\n    status: PropTypes.string.isRequired\n  };\n\n  render() {\n    const { t } = this.props;\n\n    return this.props.status === \"enabled\" ? (\n      <span>\n        <i className=\"fa fa-circle text-success\" />\n        &nbsp;\n        {t(\"Enabled\")}\n      </span>\n    ) : (\n      <span>\n        <i className=\"fa fa-circle text-danger\" />\n        &nbsp;\n        {t(\"Disabled\")}\n      </span>\n    );\n  }\n}\n\nexport const TranslatedStatusBadge = translate(\"common\")(StatusBadge);\n\nexport default props => (\n  <WithAPIData\n    apiCall={api.getStatus}\n    repeatOptions={{ interval: 5000 }}\n    renderInitial={() => <TranslatedStatusBadge status=\"loading\" {...props} />}\n    renderOk={data => <TranslatedStatusBadge status={data.status} {...props} />}\n    renderErr={() => <TranslatedStatusBadge status=\"unknown\" {...props} />}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Sidebar component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport { NavLink } from \"react-router-dom\";\nimport { Nav, NavItem } from \"reactstrap\";\nimport logo from \"../../img/logo.svg\";\nimport { mobileSidebarHide } from \"./Header\";\nimport api from \"../../util/api\";\nimport StatusBadge from \"./StatusBadge\";\n\nconst handleClick = e => {\n  e.preventDefault();\n  e.target.parentElement.classList.toggle(\"open\");\n};\n\nexport const dropDownClassList = (routeName, props) =>\n  props.location.pathname.startsWith(routeName)\n    ? \"nav-item nav-dropdown open\"\n    : \"nav-item nav-dropdown\";\n\nexport const navItem = (item, key, props) => (\n  <NavItem key={key}>\n    <NavLink\n      to={item.url}\n      onClick={mobileSidebarHide}\n      className=\"nav-link\"\n      activeClassName=\"active\"\n    >\n      <i className={\"nav-icon \" + item.icon} />\n      {props.t(item.name)}\n    </NavLink>\n  </NavItem>\n);\n\nexport const navDropdown = (item, key, props) => (\n  <li key={key} className={dropDownClassList(item.url, props)}>\n    <button className=\"nav-link nav-dropdown-toggle\" onClick={handleClick}>\n      <i className={\"nav-icon \" + item.icon} />\n      {props.t(item.name)}\n    </button>\n    <ul className=\"nav-dropdown-items\">{navList(item.children, props)}</ul>\n  </li>\n);\n\nexport const navList = (items, props) =>\n  items.map((item, index) => {\n    // Don't show an item if it requires auth and we're not logged in\n    if (item.auth && !api.loggedIn) return null;\n\n    // Some items (login page) should only be shown when logged in or logged out, not both\n    if (item.authStrict && item.auth !== api.loggedIn) return null;\n\n    // At this point it's ok to show the item\n    return item.children\n      ? navDropdown(item, index, props)\n      : navItem(item, index, props);\n  });\n\nconst Sidebar = ({ items, ...props }) => {\n  return (\n    <div className=\"sidebar\">\n      <nav className=\"sidebar-nav\">\n        <Nav>\n          <li className=\"nav-title\">\n            <img\n              src={logo}\n              className=\"img-responsive pull-left\"\n              style={{ height: \"67px\" }}\n              alt=\"\"\n            />\n            <p\n              className=\"pull-left\"\n              style={{\n                paddingLeft: \"15px\",\n                textTransform: \"initial\",\n                fontSize: \"14px\",\n                marginBottom: \"initial\",\n                lineHeight: \"14px\",\n                color: \"white\"\n              }}\n            >\n              {props.t(\"Status\")}\n            </p>\n            <br />\n            <span style={{ textTransform: \"initial\", paddingLeft: \"15px\" }}>\n              <StatusBadge />\n            </span>\n          </li>\n          {navList(items, props)}\n        </Nav>\n      </nav>\n    </div>\n  );\n};\n\nexport default translate([\"common\", \"location\"])(Sidebar);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  FooterUpdateStatus component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nconst FooterUpdateStatus = props => {\n  const { t } = props;\n  const updateAvailable = false;\n\n  if (updateAvailable) {\n    return (\n      <div className=\"ml-auto\">\n        <Link to=\"/settings/versions\">{t(\"Update Available\")}</Link>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default translate(\"footer\")(FooterUpdateStatus);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Footer component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport FooterUpdateStatus from \"./FooterUpdateStatus\";\n\nconst Footer = props => {\n  const { t } = props;\n\n  return (\n    <footer className=\"app-footer\">\n      <div>\n        <i className=\"fa fa-paypal\" />\n        <strong>\n          <a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=3J2L3Z4DHW9UY\">\n            &nbsp;\n            {t(\"Donate\")}\n          </a>\n        </strong>{\" \"}\n        {t(\"if you found this useful\")}\n      </div>\n      <FooterUpdateStatus {...props} />\n    </footer>\n  );\n};\n\nexport default translate([\"common\", \"footer\"])(Footer);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Summary Stats component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport { WithAPIData } from \"../common/WithAPIData\";\nimport api from \"../../util/api\";\n\nclass SummaryStats extends Component {\n  static propTypes = {\n    totalQueries: PropTypes.string.isRequired,\n    blockedQueries: PropTypes.string.isRequired,\n    percentBlocked: PropTypes.string.isRequired,\n    gravityDomains: PropTypes.string.isRequired,\n    uniqueClients: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n      .isRequired\n  };\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <Fragment>\n        <div className=\"col-lg-3 col-xs-12\">\n          <div className=\"card border-0 bg-success stat-height-lock\">\n            <div className=\"card-body\">\n              <div className=\"card-icon\">\n                <i className=\"fa fa-globe fa-2x\" />\n              </div>\n            </div>\n            <div className=\"card-img-overlay\">\n              <h3>{this.props.totalQueries}</h3>\n              <p style={{ marginBottom: \"0px\" }}>\n                {t(\"Total Queries ({{count}} clients)\", {\n                  count: this.props.uniqueClients\n                })}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-3 col-xs-12\">\n          <div className=\"card border-0 bg-primary stat-height-lock\">\n            <div className=\"card-body\">\n              <div className=\"card-icon\">\n                <i className=\"fa fa-hand-stop-o fa-2x\" />\n              </div>\n            </div>\n            <div className=\"card-img-overlay\">\n              <h3>{this.props.blockedQueries}</h3>\n              <p style={{ marginBottom: \"0px\" }}>{t(\"Queries Blocked\")}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-3 col-xs-12\">\n          <div className=\"card border-0 bg-warning stat-height-lock\">\n            <div className=\"card-body\">\n              <div className=\"card-icon\">\n                <i className=\"fa fa-pie-chart fa-2x\" />\n              </div>\n            </div>\n            <div className=\"card-img-overlay\">\n              <h3>{this.props.percentBlocked}</h3>\n              <p style={{ marginBottom: \"0px\" }}>{t(\"Percent Blocked\")}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-3 col-xs-12\">\n          <div className=\"card border-0 bg-danger stat-height-lock\">\n            <div className=\"card-body\">\n              <div className=\"card-icon\">\n                <i className=\"fa fa-list-alt fa-2x\" />\n              </div>\n            </div>\n            <div className=\"card-img-overlay\">\n              <h3>{this.props.gravityDomains}</h3>\n              <p style={{ marginBottom: \"0px\" }}>{t(\"Domains On Blocklist\")}</p>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\n/**\n * Transform the API data into props for the component\n *\n * @param data the API data\n * @returns {*} the transformed props\n */\nexport const transformData = data => ({\n  totalQueries: Object.keys(data.total_queries)\n    .reduce((total, queryType) => total + data.total_queries[queryType], 0)\n    .toLocaleString(),\n  blockedQueries: data.blocked_queries.toLocaleString(),\n  percentBlocked: data.percent_blocked.toFixed(2).toLocaleString() + \"%\",\n  gravityDomains: data.gravity_size.toLocaleString(),\n  uniqueClients: data.total_clients\n});\n\n/**\n * The props the summary stats should use when it fails to get the API data\n * (it does not need the error object)\n */\nexport const errorProps = {\n  totalQueries: \"Lost\",\n  blockedQueries: \"Connection\",\n  percentBlocked: \"To\",\n  gravityDomains: \"API\",\n  uniqueClients: \"\"\n};\n\n/**\n * The props used to show a loading state\n */\nexport const initialProps = {\n  blockedQueries: \"---\",\n  totalQueries: \"---\",\n  percentBlocked: \"---\",\n  gravityDomains: \"---\",\n  uniqueClients: \"---\"\n};\n\nexport const TranslatedSummaryStats = translate([\"common\", \"dashboard\"])(\n  SummaryStats\n);\n\nexport default props => (\n  <WithAPIData\n    apiCall={api.getSummary}\n    repeatOptions={{ interval: 5000 }}\n    renderInitial={() => (\n      <TranslatedSummaryStats {...initialProps} {...props} />\n    )}\n    renderOk={data => (\n      <TranslatedSummaryStats {...transformData(data)} {...props} />\n    )}\n    renderErr={() => <TranslatedSummaryStats {...errorProps} {...props} />}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Queries Graph component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Line } from \"react-chartjs-2\";\nimport { translate } from \"react-i18next\";\nimport { padNumber } from \"../../util\";\nimport api from \"../../util/api\";\nimport { WithAPIData } from \"../common/WithAPIData\";\n\nclass QueriesGraph extends Component {\n  static propTypes = {\n    loading: PropTypes.bool.isRequired,\n    labels: PropTypes.array.isRequired,\n    domains_over_time: PropTypes.array.isRequired,\n    blocked_over_time: PropTypes.array.isRequired\n  };\n\n  render() {\n    const { t } = this.props;\n\n    const data = {\n      labels: this.props.labels,\n      datasets: [\n        {\n          label: t(\"Total Queries\"),\n          data: this.props.domains_over_time,\n          fill: true,\n          backgroundColor: \"rgba(220,220,220,0.5)\",\n          borderColor: \"rgba(0, 166, 90,.8)\",\n          pointBorderColor: \"rgba(0, 166, 90,.8)\",\n          pointRadius: 1,\n          pointHoverRadius: 5,\n          pointHitRadius: 5,\n          cubicInterpolationMode: \"monotone\"\n        },\n        {\n          label: t(\"Blocked Queries\"),\n          data: this.props.blocked_over_time,\n          fill: true,\n          backgroundColor: \"rgba(0,192,239,0.5)\",\n          borderColor: \"rgba(0,192,239,1)\",\n          pointBorderColor: \"rgba(0,192,239,1)\",\n          pointRadius: 1,\n          pointHoverRadius: 5,\n          pointHitRadius: 5,\n          cubicInterpolationMode: \"monotone\"\n        }\n      ]\n    };\n\n    const options = {\n      tooltips: {\n        enabled: true,\n        mode: \"x-axis\",\n        callbacks: {\n          title: tooltipItem => {\n            const time = tooltipItem[0].xLabel.match(/(\\d?\\d):?(\\d?\\d?)/);\n            const hour = parseInt(time[1], 10);\n            const minute = parseInt(time[2], 10) || 0;\n            const from = padNumber(hour) + \":\" + padNumber(minute - 5) + \":00\";\n            const to = padNumber(hour) + \":\" + padNumber(minute + 4) + \":59\";\n\n            return t(\"Queries from {{from}} to {{to}}\", { from, to });\n          },\n          label: (tooltipItems, data) => {\n            if (tooltipItems.datasetIndex === 1) {\n              let percentage = 0.0;\n              const total = parseInt(\n                data.datasets[0].data[tooltipItems.index],\n                10\n              );\n              const blocked = parseInt(\n                data.datasets[1].data[tooltipItems.index],\n                10\n              );\n\n              if (total > 0) percentage = (100.0 * blocked) / total;\n\n              return (\n                data.datasets[tooltipItems.datasetIndex].label +\n                \": \" +\n                tooltipItems.yLabel +\n                \" (\" +\n                percentage.toFixed(1) +\n                \"%)\"\n              );\n            } else\n              return (\n                data.datasets[tooltipItems.datasetIndex].label +\n                \": \" +\n                tooltipItems.yLabel\n              );\n          }\n        }\n      },\n      legend: { display: false },\n      scales: {\n        xAxes: [\n          {\n            type: \"time\",\n            time: {\n              unit: \"hour\",\n              displayFormats: { hour: \"HH:mm\" },\n              tooltipFormat: \"HH:mm\"\n            }\n          }\n        ],\n        yAxes: [\n          {\n            ticks: { beginAtZero: true }\n          }\n        ]\n      },\n      maintainAspectRatio: false\n    };\n\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">{t(\"Queries Over Last 24 Hours\")}</div>\n        <div className=\"card-body\">\n          <Line width={970} height={170} data={data} options={options} />\n        </div>\n        {this.props.loading ? (\n          <div\n            className=\"card-img-overlay\"\n            style={{ background: \"rgba(255,255,255,0.7)\" }}\n          >\n            <i\n              className=\"fa fa-refresh fa-spin\"\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                fontSize: \"30px\"\n              }}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\n/**\n * Transform the API data into props for QueriesGraph\n *\n * @param data the API data\n * @returns {{loading: boolean, labels: Date[], domains_over_time: *,\n * blocked_over_time: any[]}} QueriesGraph props\n */\nexport const transformData = data => {\n  // Remove last data point as it's not yet finished\n  data = data.slice(0, -1);\n\n  const labels = data.map(step => new Date(1000 * step.timestamp));\n  const domains_over_time = data.map(step => step.total_queries);\n  const blocked_over_time = data.map(step => step.blocked_queries);\n\n  return {\n    loading: false,\n    labels,\n    domains_over_time,\n    blocked_over_time\n  };\n};\n\n/**\n * The props used to show a loading state (either initial load or error)\n */\nexport const loadingProps = {\n  loading: true,\n  labels: [],\n  domains_over_time: [],\n  blocked_over_time: []\n};\n\nexport const TranslatedQueriesGraph = translate(\"dashboard\")(QueriesGraph);\n\nexport default props => (\n  <WithAPIData\n    apiCall={api.getHistoryGraph}\n    repeatOptions={{\n      interval: 10 * 60 * 1000\n    }}\n    renderInitial={() => (\n      <TranslatedQueriesGraph {...loadingProps} {...props} />\n    )}\n    renderOk={data => (\n      <TranslatedQueriesGraph {...transformData(data)} {...props} />\n    )}\n    renderErr={() => <TranslatedQueriesGraph {...loadingProps} {...props} />}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Chart Tooltip component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass ChartTooltip extends Component {\n  state = {\n    tooltip: null\n  };\n\n  render() {\n    const { tooltip } = this.state;\n\n    // Override the graph's options in a hacky way to avoid redrawing the entire graph.\n    // This lets the graph directly update the tooltip without going through the parent component.\n    let lastTime = Date.now();\n    this.props.handler.custom = tooltip => {\n      // Always disable the tooltip\n      if (tooltip.opacity === 0) this.setState({ tooltip });\n\n      // Limit how quickly we set state (50ms)\n      const now = Date.now();\n      if (now - lastTime < 50) return;\n\n      lastTime = now;\n      this.setState({ tooltip });\n    };\n\n    // Don't render anything if there is nothing to render\n    if (\n      tooltip === null ||\n      tooltip.opacity === 0 ||\n      this.props.chart.current === null\n    )\n      return null;\n\n    // Get the graph's position data so we can offset the tooltip\n    const position = this.props.chart.current.chartInstance.canvas.getBoundingClientRect();\n    let width = tooltip.caretX;\n\n    // Prevent compression of the tooltip at the right edge of the screen\n    if (document.offsetWidth - tooltip.caretX < 400)\n      width = document.offsetWidth - 400;\n\n    // Prevent tooltip disappearing behind the sidebar\n    if (tooltip.caretX < 100) width = 100;\n\n    // Tooltip CSS styling\n    const style = {\n      opacity: 1,\n      left: position.left + width + \"px\",\n      top: position.top + tooltip.caretY + window.scrollY + \"px\",\n      fontFamily: tooltip._bodyFontFamily,\n      fontSize: tooltip.bodyFontSize + \"px\",\n      fontStyle: tooltip._bodyFontStyle,\n      padding: tooltip.yPadding + \"px \" + tooltip.xPadding + \"px\"\n    };\n\n    // Transform and sort the tooltip data\n    let data = [];\n    if (tooltip.body) {\n      data = tooltip.body.map(body => body.lines).map((item, i) => ({\n        data: item[0],\n        colors: tooltip.labelColors[i]\n      }));\n    }\n    data.sort((a, b) =>\n      a.data.split(\": \")[0].localeCompare(b.data.split(\": \")[0])\n    );\n\n    return (\n      <div className=\"chartjs-tooltip\" style={style}>\n        <table>\n          <thead>\n            {tooltip.title.map((title, i) => (\n              <tr key={i}>\n                <th>{title}</th>\n              </tr>\n            ))}\n          </thead>\n          <tbody>\n            {data.map((item, i) => (\n              <tr key={i}>\n                <td>\n                  <span\n                    className=\"chartjs-tooltip-key\"\n                    style={{\n                      background: item.colors.backgroundColor,\n                      borderColor: item.colors.borderColor,\n                      borderWidth: \"2px\"\n                    }}\n                  />\n                  {item.data}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nChartTooltip.propTypes = {\n  chart: PropTypes.object.isRequired,\n  handler: PropTypes.shape({\n    custom: PropTypes.func.isRequired\n  }).isRequired\n};\n\nexport default ChartTooltip;\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Clients Graph component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport { Line } from \"react-chartjs-2\";\nimport { translate } from \"react-i18next\";\nimport { padNumber } from \"../../util\";\nimport api from \"../../util/api\";\nimport ChartTooltip from \"./ChartTooltip\";\nimport { WithAPIData } from \"../common/WithAPIData\";\n\nclass ClientsGraph extends Component {\n  static propTypes = {\n    loading: PropTypes.bool.isRequired,\n    labels: PropTypes.array.isRequired,\n    datasets: PropTypes.array.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.graphRef = React.createRef();\n  }\n\n  render() {\n    const { t } = this.props;\n\n    const options = {\n      tooltips: {\n        enabled: false,\n        mode: \"x-axis\",\n        custom: () => \"placeholder\",\n        itemSort: function(a, b) {\n          return b.yLabel - a.yLabel;\n        },\n        callbacks: {\n          title: tooltipItem => {\n            const time = tooltipItem[0].xLabel.match(/(\\d?\\d):?(\\d?\\d?)/);\n            const hour = parseInt(time[1], 10);\n            const minute = parseInt(time[2], 10) || 0;\n            const from = padNumber(hour) + \":\" + padNumber(minute - 5) + \":00\";\n            const to = padNumber(hour) + \":\" + padNumber(minute + 4) + \":59\";\n\n            return t(\"Client activity from {{from}} to {{to}}\", { from, to });\n          },\n          label: (tooltipItems, data) => {\n            return (\n              data.datasets[tooltipItems.datasetIndex].label +\n              \": \" +\n              tooltipItems.yLabel\n            );\n          }\n        }\n      },\n      legend: { display: false },\n      scales: {\n        xAxes: [\n          {\n            type: \"time\",\n            time: {\n              unit: \"hour\",\n              displayFormats: { hour: \"HH:mm\" },\n              tooltipFormat: \"HH:mm\"\n            }\n          }\n        ],\n        yAxes: [\n          {\n            ticks: { beginAtZero: true },\n            stacked: true\n          }\n        ]\n      },\n      maintainAspectRatio: false\n    };\n\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">{t(\"Clients Over Last 24 Hours\")}</div>\n        <div className=\"card-body\">\n          <Line\n            width={970}\n            height={170}\n            data={{\n              labels: this.props.labels,\n              datasets: this.props.datasets\n            }}\n            options={options}\n            ref={this.graphRef}\n          />\n        </div>\n\n        {this.props.loading ? (\n          <div\n            className=\"card-img-overlay\"\n            style={{ background: \"rgba(255,255,255,0.7)\" }}\n          >\n            <i\n              className=\"fa fa-refresh fa-spin\"\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                fontSize: \"30px\"\n              }}\n            />\n          </div>\n        ) : null}\n\n        {// Now you're thinking with portals!\n        ReactDOM.createPortal(\n          <ChartTooltip chart={this.graphRef} handler={options.tooltips} />,\n          document.body\n        )}\n      </div>\n    );\n  }\n}\n\n/**\n * Transform the API data into props for ClientsGraph\n *\n * @param data the API data\n * @returns {{labels: Date[], datasets: Array, loading: boolean}} ClientsGraph\n * props\n */\nexport const transformData = data => {\n  // Remove last data point as it's not yet finished\n  const overTime = data.over_time.slice(0, -1);\n\n  const colors = [\n    \"#20a8d8\",\n    \"#f86c6b\",\n    \"#4dbd74\",\n    \"#f8cb00\",\n    \"#263238\",\n    \"#63c2de\",\n    \"#b0bec5\"\n  ];\n  const labels = overTime.map(step => new Date(1000 * step.timestamp));\n  const datasets = [];\n\n  // Fill in dataset metadata\n  let i = 0;\n  for (let client of data.clients) {\n    datasets.push({\n      label: client.name.length !== 0 ? client.name : client.ip,\n      // If we ran out of colors, make a random one\n      backgroundColor:\n        i < colors.length\n          ? colors[i]\n          : \"#\" +\n            parseInt(\"\" + Math.random() * 0xffffff, 10)\n              .toString(16)\n              .padStart(6, \"0\"),\n      pointRadius: 0,\n      pointHitRadius: 5,\n      pointHoverRadius: 5,\n      cubicInterpolationMode: \"monotone\",\n      data: []\n    });\n\n    i++;\n  }\n\n  // Fill in data & labels\n  for (let step of overTime) {\n    for (let destination in datasets) {\n      if (datasets.hasOwnProperty(destination))\n        datasets[destination].data.push(step.data[destination]);\n    }\n  }\n\n  datasets.sort((a, b) => a.label.localeCompare(b.label));\n\n  return { labels, datasets, loading: false };\n};\n\n/**\n * The props used to show a loading state (either initial load or error)\n */\nexport const loadingProps = {\n  loading: true,\n  labels: [],\n  datasets: []\n};\n\nexport const TranslatedClientsGraph = translate(\"dashboard\")(ClientsGraph);\n\nexport default props => (\n  <WithAPIData\n    apiCall={api.getClientsGraph}\n    repeatOptions={{\n      interval: 10 * 60 * 1000\n    }}\n    renderInitial={() => (\n      <TranslatedClientsGraph {...loadingProps} {...props} />\n    )}\n    renderOk={data => (\n      <TranslatedClientsGraph {...transformData(data)} {...props} />\n    )}\n    renderErr={() => <TranslatedClientsGraph {...loadingProps} {...props} />}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Generic Doughnut Chart component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport { Doughnut } from \"react-chartjs-2\";\nimport PropTypes from \"prop-types\";\nimport { WithAPIData } from \"../common/WithAPIData\";\n\nexport class GenericDoughnutChart extends Component {\n  static propTypes = {\n    title: PropTypes.string.isRequired,\n    loading: PropTypes.bool.isRequired,\n    data: PropTypes.array.isRequired,\n    colors: PropTypes.array.isRequired,\n    labels: PropTypes.array.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.chartRef = React.createRef();\n  }\n\n  handleClick = (e, index) => {\n    // Hide the entry by clicking on the internal legend item\n    const chart = this.chartRef.current.chartInstance;\n    chart.legend.options.onClick.call(\n      chart,\n      e,\n      chart.legend.legendItems[index]\n    );\n\n    // Cause an update so the external legend gets updated\n    this.forceUpdate();\n  };\n\n  render() {\n    const options = {\n      legend: { display: false },\n      tooltips: {\n        enabled: true,\n        callbacks: {\n          title: () => this.props.title,\n          label: (tooltipItems, data) => {\n            const dataset = data.datasets[tooltipItems.datasetIndex];\n            const label = data.labels[tooltipItems.index];\n            return (\n              label + \": \" + dataset.data[tooltipItems.index].toFixed(1) + \"%\"\n            );\n          }\n        }\n      },\n      maintainAspectRatio: false\n    };\n\n    // Get the metadata for the items, so we know if they are hidden or not.\n    // If the chart has not been created yet, make some fake metadata.\n    const meta =\n      this.chartRef.current !== null\n        ? this.chartRef.current.chartInstance.getDatasetMeta(0).data\n        : this.props.data.map(() => ({ hidden: false }));\n\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">{this.props.title}</div>\n        <div className=\"card-body\">\n          <div className=\"float-left\" style={{ width: \"67%\" }}>\n            <Doughnut\n              width={100}\n              height={250}\n              options={options}\n              ref={this.chartRef}\n              data={{\n                datasets: [\n                  {\n                    // Make a copy of the data here. ChartJS does weird things\n                    // to the data, which React doesn't catch. This can cause\n                    // oddities such as one chart showing the other chart's\n                    // data. This behavior is fixed by sending ChartJS its own\n                    // copy of the data.\n                    data: [...this.props.data],\n                    backgroundColor: this.props.colors\n                  }\n                ],\n                labels: this.props.labels\n              }}\n            />\n          </div>\n          <div className=\"float-right\" style={{ width: \"33%\" }}>\n            <ul className=\"chart-legend\">\n              {this.props.labels\n                // Zip label and color together\n                .map((label, i) => [label, this.props.colors[i]])\n                // Create the list items\n                .map(([label, color], i) => (\n                  <li\n                    key={i}\n                    className={meta[i] && meta[i].hidden ? \"strike\" : \"\"}\n                    onClick={e => this.handleClick(e, i)}\n                  >\n                    <span style={{ backgroundColor: color }} />\n                    {label}\n                  </li>\n                ))}\n            </ul>\n          </div>\n        </div>\n        {this.props.loading ? (\n          <div\n            className=\"card-img-overlay\"\n            style={{ background: \"rgba(255,255,255,0.7)\" }}\n          >\n            <i\n              className=\"fa fa-refresh fa-spin\"\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                fontSize: \"30px\"\n              }}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\n/**\n * Transform the API data into props for GenericDoughnutChart\n *\n * @param apiData the API data\n * @returns {{loading: boolean, data: Array, colors: Array, labels: Array}}\n * GenericDoughnutChart props\n */\nexport const transformData = apiData => {\n  const colors = [\n    \"#20a8d8\",\n    \"#f86c6b\",\n    \"#4dbd74\",\n    \"#f8cb00\",\n    \"#263238\",\n    \"#63c2de\",\n    \"#b0bec5\"\n  ];\n  const data = [];\n  const labels = [];\n  const usedColors = [];\n\n  // Fill in dataset metadata\n  let i = 0;\n  for (let entry of apiData) {\n    data.push(entry.percent);\n    labels.push(entry.name.length !== 0 ? entry.name : entry.ip);\n    usedColors.push(\n      // If we ran out of colors, make a random one\n      i < colors.length\n        ? colors[i]\n        : \"#\" +\n          parseInt(\"\" + Math.random() * 0xffffff, 10)\n            .toString(16)\n            .padStart(6, \"0\")\n    );\n\n    i++;\n  }\n\n  return {\n    loading: false,\n    data,\n    colors: usedColors,\n    labels\n  };\n};\n\n/**\n * The props used to show a loading state (either initial load or error)\n */\nexport const loadingProps = {\n  loading: true,\n  data: [],\n  colors: [],\n  labels: []\n};\n\nexport default ({ apiCall, title, apiHandler, ...props }) => (\n  <WithAPIData\n    apiCall={apiCall}\n    renderInitial={() => (\n      <GenericDoughnutChart title={title} {...loadingProps} {...props} />\n    )}\n    renderOk={data => (\n      <GenericDoughnutChart\n        title={title}\n        {...transformData(apiHandler(data))}\n        {...props}\n      />\n    )}\n    renderErr={() => (\n      <GenericDoughnutChart title={title} {...loadingProps} {...props} />\n    )}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Query Types Chart component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport GenericDoughnutChart from \"./GenericDoughnutChart\";\n\nconst QueryTypesChart = ({ t }) => (\n  <GenericDoughnutChart\n    title={t(\"Query Types\")}\n    apiCall={api.getQueryTypes}\n    apiHandler={data => {\n      const total = data.reduce(\n        (previous, current) => previous + current.count,\n        0\n      );\n\n      return data.map(item => ({\n        name: item.name,\n        percent: total > 0 ? (item.count * 100) / total : 0\n      }));\n    }}\n  />\n);\n\nexport default translate(\"dashboard\")(QueryTypesChart);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Upstream Servers / Forward Destinations Chart component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport GenericDoughnutChart from \"./GenericDoughnutChart\";\n\nconst UpstreamsChart = ({ t }) => (\n  <GenericDoughnutChart\n    title={t(\"Queries Answered By Destination\")}\n    apiCall={api.getUpstreams}\n    apiHandler={data =>\n      data.upstreams.map(upstream => ({\n        name: upstream.name,\n        ip: upstream.ip,\n        percent: (upstream.count * 100) / data.total_queries\n      }))\n    }\n  />\n);\n\nexport default translate(\"dashboard\")(UpstreamsChart);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Generic top items component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { WithAPIData } from \"../common/WithAPIData\";\n\nexport class TopTable extends Component {\n  static propTypes = {\n    loading: PropTypes.bool.isRequired,\n    title: PropTypes.string.isRequired,\n    data: PropTypes.object.isRequired,\n    headers: PropTypes.arrayOf(PropTypes.string).isRequired,\n    emptyMessage: PropTypes.string.isRequired,\n    isEmpty: PropTypes.func.isRequired,\n    generateRows: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    loading: true,\n    title: \"\",\n    data: {},\n    headers: [],\n    emptyMessage: \"\",\n    isEmpty: () => true,\n    generateRows: () => null\n  };\n\n  /**\n   * Generate the table\n   *\n   * @returns {*} a React element for the table, or an empty message\n   */\n  generateTable = () => {\n    // If there is no data, just show a message\n    if (this.props.isEmpty(this.props.data)) {\n      return this.props.emptyMessage;\n    }\n\n    return (\n      <table className=\"table table-bordered\">\n        <tbody>\n          <tr>\n            {this.props.headers.map((header, i) => (\n              <th key={i}>{header}</th>\n            ))}\n          </tr>\n          {this.props.generateRows(this.props.data)}\n        </tbody>\n      </table>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">{this.props.title}</div>\n        <div className=\"card-body\">\n          <div style={{ overflowX: \"auto\" }}>{this.generateTable()}</div>\n        </div>\n        {this.props.loading ? (\n          <div\n            className=\"card-img-overlay\"\n            style={{ background: \"rgba(255,255,255,0.7)\" }}\n          >\n            <i\n              className=\"fa fa-refresh fa-spin\"\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                fontSize: \"30px\"\n              }}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default ({\n  title,\n  apiCall,\n  initialData,\n  headers,\n  emptyMessage,\n  isEmpty,\n  apiHandler,\n  generateRows,\n  ...props\n}) => (\n  <WithAPIData\n    apiCall={apiCall}\n    repeatOptions={{\n      interval: 10 * 60 * 1000\n    }}\n    renderInitial={() => (\n      <TopTable\n        title={title}\n        headers={headers}\n        emptyMessage={emptyMessage}\n        isEmpty={isEmpty}\n        generateRows={generateRows}\n        data={initialData}\n        loading={true}\n        {...props}\n      />\n    )}\n    renderOk={data => (\n      <TopTable\n        title={title}\n        headers={headers}\n        emptyMessage={emptyMessage}\n        isEmpty={isEmpty}\n        generateRows={generateRows}\n        data={apiHandler(data)}\n        loading={false}\n        {...props}\n      />\n    )}\n    renderErr={() => (\n      <TopTable\n        title={title}\n        headers={headers}\n        emptyMessage={emptyMessage}\n        isEmpty={isEmpty}\n        generateRows={generateRows}\n        data={initialData}\n        loading={true}\n        {...props}\n      />\n    )}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Top Domains component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport TopTable from \"./TopTable\";\n\n/**\n * Transform the API data into the form used in generateRows\n *\n * @param data the API data\n * @returns {{totalQueries: number, topDomains: *}} the parsed data\n */\nexport const transformData = data => ({\n  totalQueries: data.total_queries,\n  topDomains: data.top_domains\n});\n\n/**\n * Create a function to generate rows of top domains\n *\n * @param t the translation function\n * @returns {function(*): any[]} a function to generate rows of top domains\n */\nexport const generateRows = t => data => {\n  return data.topDomains.map(item => {\n    const percentage = (item.count / data.totalQueries) * 100;\n\n    return (\n      <tr key={item.domain}>\n        <td>{item.domain}</td>\n        <td>{item.count.toLocaleString()}</td>\n        <td style={{ verticalAlign: \"middle\" }}>\n          <div\n            className=\"progress\"\n            title={t(\"{{percent}}% of {{total}}\", {\n              percent: percentage.toFixed(1),\n              total: data.totalQueries.toLocaleString()\n            })}\n          >\n            <div\n              className=\"progress-bar bg-success\"\n              style={{ width: percentage + \"%\" }}\n            />\n          </div>\n        </td>\n      </tr>\n    );\n  });\n};\n\nconst TopDomains = ({ t, ...props }) => (\n  <TopTable\n    {...props}\n    title={t(\"Top Permitted Domains\")}\n    initialData={{\n      totalQueries: 0,\n      topDomains: []\n    }}\n    headers={[t(\"Domain\"), t(\"Hits\"), t(\"Frequency\")]}\n    emptyMessage={t(\"No Domains Found\")}\n    isEmpty={data => data.topDomains.length === 0}\n    apiCall={api.getTopDomains}\n    apiHandler={transformData}\n    generateRows={generateRows(t)}\n  />\n);\n\nexport default translate([\"common\", \"dashboard\"])(TopDomains);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Top Blocked component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport TopTable from \"./TopTable\";\n\n/**\n * Transform the API data into the form used in generateRows\n *\n * @param data the API data\n * @returns {{totalBlocked: number, topBlocked: *}} the parsed data\n */\nexport const transformData = data => ({\n  totalBlocked: data.blocked_queries,\n  topBlocked: data.top_domains\n});\n\n/**\n * Create a function to generate rows of top blocked\n *\n * @param t the translation function\n * @returns {function(*): any[]} a function to generate rows of top blocked\n */\nexport const generateRows = t => data => {\n  return data.topBlocked.map(item => {\n    const percentage = (item.count / data.totalBlocked) * 100;\n\n    return (\n      <tr key={item.domain}>\n        <td>{item.domain}</td>\n        <td>{item.count.toLocaleString()}</td>\n        <td style={{ verticalAlign: \"middle\" }}>\n          <div\n            className=\"progress\"\n            title={t(\"{{percent}}% of {{total}}\", {\n              percent: percentage.toFixed(1),\n              total: data.totalBlocked.toLocaleString()\n            })}\n          >\n            <div\n              className=\"progress-bar bg-warning\"\n              style={{ width: percentage + \"%\" }}\n            />\n          </div>\n        </td>\n      </tr>\n    );\n  });\n};\n\nconst TopBlocked = ({ t, ...props }) => (\n  <TopTable\n    {...props}\n    title={t(\"Top Blocked Domains\")}\n    initialData={{\n      totalBlocked: 0,\n      topBlocked: []\n    }}\n    headers={[t(\"Domain\"), t(\"Hits\"), t(\"Frequency\")]}\n    emptyMessage={t(\"No Domains Found\")}\n    isEmpty={data => data.topBlocked.length === 0}\n    apiCall={api.getTopBlocked}\n    apiHandler={transformData}\n    generateRows={generateRows(t)}\n  />\n);\n\nexport default translate([\"common\", \"dashboard\"])(TopBlocked);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Top Clients component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport TopTable from \"./TopTable\";\n\n/**\n * Transform the API data into the form used in generateRows\n *\n * @param data the API data\n * @returns {{totalQueries: number, topClients: *}} the parsed data\n */\nexport const transformData = data => ({\n  totalQueries: data.total_queries,\n  topClients: data.top_clients\n});\n\n/**\n * Create a function to generate rows of top clients\n *\n * @param t the translation function\n * @returns {function(*): any[]} a function to generate rows of top clients\n */\nexport const generateRows = t => data => {\n  return data.topClients.map(item => {\n    const percentage = (item.count / data.totalQueries) * 100;\n\n    return (\n      <tr key={item.name + \"|\" + item.ip}>\n        <td>{item.name !== \"\" ? item.name : item.ip}</td>\n        <td>{item.count.toLocaleString()}</td>\n        <td style={{ verticalAlign: \"middle\" }}>\n          <div\n            className=\"progress\"\n            title={t(\"{{percent}}% of {{total}}\", {\n              percent: percentage.toFixed(1),\n              total: data.totalQueries.toLocaleString()\n            })}\n          >\n            <div\n              className=\"progress-bar bg-primary\"\n              style={{ width: percentage + \"%\" }}\n            />\n          </div>\n        </td>\n      </tr>\n    );\n  });\n};\n\nconst TopClients = ({ t, ...props }) => (\n  <TopTable\n    {...props}\n    title={t(\"Top Clients\")}\n    initialData={{\n      totalQueries: 0,\n      topClients: []\n    }}\n    headers={[t(\"Client\"), t(\"Requests\"), t(\"Frequency\")]}\n    emptyMessage={t(\"No Clients Found\")}\n    isEmpty={data => data.topClients.length === 0}\n    apiCall={api.getTopClients}\n    apiHandler={transformData}\n    generateRows={generateRows(t)}\n  />\n);\n\nexport default translate([\"common\", \"dashboard\"])(TopClients);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Query Log component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component, Fragment } from \"react\";\nimport ReactTable from \"react-table\";\nimport i18n from \"i18next\";\nimport { translate } from \"react-i18next\";\nimport { ignoreCancel, makeCancelable, padNumber } from \"../../util\";\nimport api from \"../../util/api\";\nimport \"react-table/react-table.css\";\n\nclass QueryLog extends Component {\n  updateHandler = null;\n  state = {\n    history: [],\n    cursor: null,\n    loading: false,\n    atEnd: false\n  };\n\n  componentWillUnmount() {\n    if (this.updateHandler) {\n      this.updateHandler.cancel();\n    }\n  }\n\n  /**\n   * Get the props for a given row\n   *\n   * @param state the state of the ReactTable\n   * @param rowInfo the row information\n   * @returns {*} props for the row\n   */\n  getRowProps = (state, rowInfo) => {\n    // Check if the row is known to be blocked or allowed (not unknown)\n    if (rowInfo && rowInfo.row.status.code !== 0) {\n      // Blocked queries are red, allowed queries are green\n      return {\n        style: {\n          color: [1, 4, 5, 6].includes(rowInfo.row.status.code)\n            ? \"red\"\n            : \"green\"\n        }\n      };\n    } else {\n      // Unknown queries do not get colored\n      return {};\n    }\n  };\n\n  /**\n   * Fetch queries from the API, if necessary. This is called from the\n   * ReactTable component, which dictates its parameters.\n   *\n   * @param state The state of the ReactTable. Only the page and pageSize\n   * attributes are used.\n   */\n  fetchQueries = state => {\n    // Check if we've reached the end of the queries, or are still waiting for\n    // the last fetch to finish\n    if (this.state.atEnd || this.state.loading) {\n      return;\n    }\n\n    // Check if we already have this page and the next page.\n    if (this.state.history.length >= (state.page + 2) * state.pageSize) {\n      return;\n    }\n\n    // We have to ask the API for more queries\n    this.setState({ loading: true });\n\n    // Send a request for more queries\n    this.updateHandler = makeCancelable(\n      api.getHistory({\n        cursor: this.state.cursor\n      })\n    );\n\n    this.updateHandler.promise\n      .then(data => {\n        // Update the log with the new queries\n        this.setState({\n          loading: false,\n          atEnd: data.cursor === null,\n          cursor: data.cursor,\n          history: this.state.history.concat(data.history)\n        });\n      })\n      .catch(ignoreCancel);\n  };\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <ReactTable\n        className=\"-striped\"\n        style={{ background: \"white\", marginBottom: \"24px\", lineHeight: 1 }}\n        columns={columns(t)}\n        showPaginationTop={true}\n        sortable={false}\n        filterable={false}\n        data={this.state.history}\n        loading={this.state.loading}\n        onFetchData={this.fetchQueries}\n        getTrProps={this.getRowProps}\n        ofText={this.state.atEnd ? \"of\" : \"of at least\"}\n        // Pad empty rows to have the same height as filled rows\n        PadRowComponent={() => (\n          <span>\n            &nbsp;\n            <br />\n            &nbsp;\n          </span>\n        )}\n      />\n    );\n  }\n}\n\n/**\n * Convert a status code to a status message. The messages are translated, so\n * you must pass in the translation function before using the message array.\n */\nconst status = t => [\n  t(\"Unknown\"),\n  t(\"Blocked (gravity)\"),\n  t(\"Allowed (forwarded)\"),\n  t(\"Allowed (cached)\"),\n  t(\"Blocked (regex/wildcard)\"),\n  t(\"Blocked (blacklist)\"),\n  t(\"Blocked (external)\")\n];\n\n/**\n * Convert a DNSSEC code to a DNSSEC message. The messages are translated, so\n * you must pass in the translation function before using the message array.\n */\nconst dnssec = t => [\n  \"\", // Unspecified, which means DNSSEC is off, so nothing should be shown\n  t(\"Secure\"),\n  t(\"Insecure\"),\n  t(\"Bogus\"),\n  t(\"Abandoned\"),\n  t(\"Unknown\")\n];\n\n/**\n * Convert a reply type code to a reply type. The unknown type is translated, so\n * you must pass in the translation function before using the message array.\n */\nconst replyTypes = t => [\n  t(\"Unknown\"),\n  \"NODATA\",\n  \"NXDOMAIN\",\n  \"CNAME\",\n  \"IP\",\n  \"DOMAIN\",\n  \"RRNAME\"\n];\n\n/**\n * Convert a query type code to a query type.\n */\nconst queryTypes = [\"ERROR\", \"A\", \"AAAA\", \"ANY\", \"SRV\", \"SOA\", \"PTR\", \"TXT\"];\n\n/**\n * The columns of the Query Log. Some pieces are translated, so you must pass in\n * the translation function before using the columns.\n */\nconst columns = t => [\n  {\n    Header: t(\"Time\"),\n    id: \"time\",\n    accessor: r => r.timestamp,\n    width: 70,\n    Cell: row => {\n      const date = new Date(row.value * 1000);\n      const month = date.toLocaleDateString(i18n.language, {\n        month: \"short\"\n      });\n      const dayOfMonth = padNumber(date.getDate());\n      const hour = padNumber(date.getHours());\n      const minute = padNumber(date.getMinutes());\n      const second = padNumber(date.getSeconds());\n\n      return (\n        <Fragment>\n          {month + \", \" + dayOfMonth}\n          <br />\n          {hour + \":\" + minute + \":\" + second}\n        </Fragment>\n      );\n    }\n  },\n  {\n    Header: t(\"Type\"),\n    id: \"type\",\n    accessor: r => queryTypes[r.type],\n    width: 50\n  },\n  {\n    Header: t(\"Domain\"),\n    id: \"domain\",\n    accessor: r => r.domain,\n    minWidth: 150,\n    className: \"horizontal-scroll\"\n  },\n  {\n    Header: t(\"Client\"),\n    id: \"client\",\n    accessor: r => r.client,\n    minWidth: 120,\n    className: \"horizontal-scroll\"\n  },\n  {\n    Header: t(\"Status\"),\n    id: \"status\",\n    accessor: r => ({ code: r.status, dnssec: r.dnssec }),\n    width: 140,\n    Cell: row => (\n      <Fragment>\n        {status(t)[row.value.code]}\n        <br />\n        {dnssec(t)[row.value.dnssec]}\n      </Fragment>\n    ),\n    filterMethod: (filter, row) => {\n      const rowStatus = status(t)[row[filter.id].code].toLowerCase();\n      return rowStatus.includes(filter.value.toLowerCase());\n    }\n  },\n  {\n    Header: t(\"Reply\"),\n    id: \"reply\",\n    accessor: r => ({ type: r.reply, time: r.response_time }),\n    width: 90,\n    Cell: row => (\n      <div style={{ color: \"black\" }}>\n        {replyTypes(t)[row.value.type]}\n        <br />\n        {\"(\" + (row.value.time / 10).toLocaleString() + \"ms)\"}\n      </div>\n    )\n  },\n  {\n    Header: t(\"Action\"),\n    width: 100,\n    filterable: false,\n    Cell: data => {\n      // Blocked, but can whitelist\n      if ([1, 4, 5].includes(data.row.status.code)) {\n        return (\n          <button\n            type=\"button\"\n            className=\"btn btn-success full-width\"\n            onClick={() => api.addWhitelist(data.row.domain)}\n          >\n            {t(\"Whitelist\")}\n          </button>\n        );\n      }\n\n      // Not explicitly blocked (or is whitelisted), but could be blocked.\n      // This includes externally blocked.\n      if ([2, 3, 6].includes(data.row.status.code))\n        return (\n          <button\n            type=\"button\"\n            className=\"btn btn-danger full-width\"\n            onClick={() => api.addBlacklist(data.row.domain)}\n          >\n            {t(\"Blacklist\")}\n          </button>\n        );\n    }\n  }\n];\n\nexport default translate([\"common\", \"query-log\"])(QueryLog);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Domain Input component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\n\nclass DomainInput extends Component {\n  state = {\n    domain: \"\",\n    isValid: true\n  };\n\n  handleChange = e => this.setState({ domain: e.target.value });\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const domain = this.state.domain;\n\n    // Don't do anything for empty inputs\n    if (domain.length === 0) {\n      return;\n    }\n\n    const isValid = this.props.isValid(domain);\n    this.setState({ isValid });\n    if (isValid) {\n      this.props.onEnter(domain);\n      // Clear the input on successful submit\n      this.setState({ domain: \"\" });\n    } else {\n      this.props.onValidationError();\n    }\n  };\n\n  render() {\n    const { t, placeholder, onRefresh } = this.props;\n\n    return (\n      <form className=\"form-group input-group\" onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          className={`form-control ${this.state.isValid ? \"\" : \"is-invalid\"}`}\n          placeholder={placeholder}\n          value={this.state.domain}\n          onChange={this.handleChange}\n          disabled={!api.loggedIn}\n        />\n        <span className=\"btn-group input-group-append\">\n          {api.loggedIn ? (\n            <button className=\"btn border-secondary\" type=\"submit\">\n              {t(\"Add\")}\n            </button>\n          ) : null}\n          <button\n            onClick={onRefresh}\n            className=\"btn border-secondary\"\n            type=\"button\"\n          >\n            <i className=\"fa fa-refresh\" />\n          </button>\n        </span>\n      </form>\n    );\n  }\n}\n\nDomainInput.propTypes = {\n  placeholder: PropTypes.string,\n  onEnter: PropTypes.func.isRequired,\n  onRefresh: PropTypes.func.isRequired,\n  isValid: PropTypes.func.isRequired,\n  onValidationError: PropTypes.func.isRequired\n};\n\nDomainInput.defaultProps = {\n  placeholder: \"\"\n};\n\nexport default translate([\"common\", \"lists\"])(DomainInput);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Alert component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Alert = props => {\n  return (\n    <div\n      className={\"alert alert-\" + props.type + \" alert-dismissible fade show\"}\n    >\n      <button type=\"button\" className=\"close\" onClick={props.onClick}>\n        &times;\n      </button>\n      {props.message}\n    </div>\n  );\n};\n\nAlert.propTypes = {\n  message: PropTypes.node.isRequired,\n  type: PropTypes.string.isRequired,\n  onClick: PropTypes.func\n};\n\nAlert.defaultProps = {\n  onClick: () => {}\n};\n\nexport default Alert;\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Domain List component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport { Button } from \"reactstrap\";\n\nconst DomainList = ({ domains, onRemove, t }) => {\n  // Create a button to remove the domain\n  const removeButton = item => (\n    <Button\n      color=\"danger\"\n      size=\"sm\"\n      className=\"pull-right\"\n      style={{ marginTop: \"2px\" }}\n      onClick={() => onRemove(item)}\n    >\n      <span className=\"fa fa-trash-o\" />\n    </Button>\n  );\n\n  // Map a domain string to a list item\n  const mapDomainsToListItems = domain => (\n    <li key={domain} className=\"list-group-item\">\n      {api.loggedIn ? removeButton(domain) : null}\n      <span\n        style={{\n          display: \"table-cell\",\n          verticalAlign: \"middle\",\n          height: \"32px\"\n        }}\n      >\n        {domain}\n      </span>\n    </li>\n  );\n\n  let body;\n\n  if (domains.length > 0) {\n    body = domains.map(mapDomainsToListItems);\n  } else {\n    body = (\n      <div className=\"alert alert-info\" role=\"alert\">\n        {t(\"There are no domains in this list\")}\n      </div>\n    );\n  }\n\n  return <ul className=\"list-group\">{body}</ul>;\n};\n\nDomainList.propTypes = {\n  domains: PropTypes.arrayOf(PropTypes.string),\n  onRemove: PropTypes.func.isRequired\n};\n\nexport default translate([\"common\", \"lists\"])(DomainList);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  List Page component (abstracted whitelist, blacklist, etc)\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport DomainInput from \"./DomainInput\";\nimport Alert from \"../common/Alert\";\nimport DomainList from \"./DomainList\";\nimport { ignoreCancel, makeCancelable } from \"../../util\";\n\nclass ListPage extends Component {\n  static propTypes = {\n    title: PropTypes.string.isRequired,\n    note: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n    placeholder: PropTypes.string.isRequired,\n    add: PropTypes.func.isRequired,\n    refresh: PropTypes.func.isRequired,\n    remove: PropTypes.func.isRequired,\n    isValid: PropTypes.func.isRequired,\n    validationErrorMsg: PropTypes.string.isRequired\n  };\n\n  static defaultProps = {\n    note: \"\"\n  };\n\n  state = {\n    domains: [],\n    message: \"\",\n    messageType: \"\"\n  };\n\n  onEnter = domain => {\n    // Check if the domain was already added\n    if (this.state.domains.includes(domain)) {\n      this.onAlreadyAdded(domain);\n    } else {\n      // Store the domains before adding the new domain, for a possible rollback\n      const prevDomains = this.state.domains.slice();\n\n      // Try to add the domain\n      this.addHandler = makeCancelable(this.props.add(domain));\n      this.addHandler.promise\n        .then(() => {\n          this.onAdded(domain);\n        })\n        .catch(ignoreCancel)\n        .catch(() => {\n          this.onAddFailed(domain, prevDomains);\n        });\n\n      // Show an in-progress message\n      this.onAdding(domain);\n    }\n  };\n\n  onAdding = domain =>\n    this.setState({\n      message: this.props.t(\"Adding {{domain}}...\", { domain }),\n      messageType: \"info\"\n    });\n\n  onAlreadyAdded = domain =>\n    this.setState({\n      message: this.props.t(\"{{domain}} is already added\", { domain }),\n      messageType: \"danger\"\n    });\n\n  onAdded = domain =>\n    this.setState(prevState => ({\n      domains: [...prevState.domains, domain],\n      message: this.props.t(\"Successfully added {{domain}}\", { domain }),\n      messageType: \"success\"\n    }));\n\n  onAddFailed = (domain, prevDomains) =>\n    this.setState({\n      domains: prevDomains,\n      message: this.props.t(\"Failed to add {{domain}}\", { domain }),\n      messageType: \"danger\"\n    });\n\n  onRemoved = domain =>\n    this.setState(prevState => ({\n      domains: prevState.domains.filter(item => item !== domain)\n    }));\n\n  onRemoveFailed = (domain, prevDomains) =>\n    this.setState({\n      domains: prevDomains,\n      message: this.props.t(\"Failed to remove {{domain}}\", { domain }),\n      messageType: \"danger\"\n    });\n\n  onRemove = domain => {\n    if (this.state.domains.includes(domain)) {\n      const prevDomains = this.state.domains.slice();\n\n      this.removeHandler = makeCancelable(this.props.remove(domain));\n      this.removeHandler.promise.catch(ignoreCancel).catch(() => {\n        this.onRemoveFailed(domain, prevDomains);\n      });\n\n      this.onRemoved(domain);\n    }\n  };\n\n  onRefresh = () => {\n    this.refreshHandler = makeCancelable(this.props.refresh());\n    this.refreshHandler.promise\n      .then(data => {\n        this.setState({ domains: data });\n      })\n      .catch(ignoreCancel);\n  };\n\n  handleValidationError = () => {\n    this.setState({\n      message: this.props.validationErrorMsg,\n      messageType: \"danger\"\n    });\n  };\n\n  componentDidMount() {\n    this.onRefresh();\n  }\n\n  componentWillUnmount() {\n    if (this.addHandler) this.addHandler.cancel();\n    if (this.removeHandler) this.removeHandler.cancel();\n    if (this.refreshHandler) this.refreshHandler.cancel();\n  }\n\n  render() {\n    return (\n      <div style={{ marginBottom: \"24px\" }}>\n        <h2 className=\"text-center\">{this.props.title}</h2>\n        <br />\n        <DomainInput\n          placeholder={this.props.placeholder}\n          onEnter={this.onEnter}\n          onRefresh={this.onRefresh}\n          isValid={this.props.isValid}\n          onValidationError={this.handleValidationError}\n        />\n        {this.props.note}\n        {this.state.message ? (\n          <Alert\n            message={this.state.message}\n            type={this.state.messageType}\n            onClick={() => this.setState({ message: \"\" })}\n          />\n        ) : null}\n        <DomainList domains={this.state.domains} onRemove={this.onRemove} />\n      </div>\n    );\n  }\n}\n\nexport default translate([\"common\", \"lists\"])(ListPage);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Utility functions for validating domains, hostnames etc.\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nexport function isValidHostname(hostname) {\n  // Must not exceed 253 characters total\n  if (hostname.length > 253) return false;\n  // Each segment must not exceed 63 characters\n  const segments = hostname.split(\".\");\n  // If at least one segment is empty or longer than 63 chars - sets to true, if none - false\n  const hasLongOrEmptySegments = segments.some(\n    segment => segment.length < 1 || segment.length > 63\n  );\n  if (hasLongOrEmptySegments) return false;\n  // Must not be all numbers and periods\n  const joined = segments.join(\"\");\n  // If the hostname without periods make a number, deny\n  if (isPositiveNumber(joined)) return false;\n\n  return /^([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*)+(\\.([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*))*$/.test(\n    hostname\n  );\n}\n\nexport function isValidDomain(domain) {\n  // Make sure it's a fully qualified domain\n  const split = domain.split(\".\");\n  // Has to have at least 2 segments, of at least 1 character each\n  if (split.length < 2) return false;\n  return isValidHostname(domain);\n}\n\nexport function isPositiveNumber(input) {\n  // Because parseInt has limitations, e.g. parseInt(\"15ex\") is parsed to 15\n  // Caution, does not work with negative numbers, replace with /^(\\-|\\+)?([0-9])$/ if needed\n  return /^[0-9]+$/.test(input);\n}\n\nexport function isValidRegex(regex) {\n  try {\n    new RegExp(regex);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Check if the string is a valid IPv4 address\n *\n * @param address {string} the address to check\n * @returns {boolean} if the address is a valid IPv4 address\n */\nexport function isValidIpv4(address) {\n  const segments = address.split(\".\");\n\n  // Must have 4 segments\n  if (segments.length !== 4) {\n    return false;\n  }\n\n  // All segments must be numbers (positive)\n  return segments.every(\n    segment => isPositiveNumber(segment) && parseInt(segment) < 256\n  );\n}\n\n/**\n * Check if the string is a valid IPv4 address, and it can contain an optional\n * port after the address, separated with a #.\n * Example: 127.0.0.1#5353\n *\n * @param address {string} the address to check\n * @returns {boolean} if the address is a valid IPv4 address and the port\n * (if it exists) is valid.\n */\nexport function isValidIpv4OptionalPort(address) {\n  const split = address.split(\"#\");\n  const ipv4 = split[0];\n\n  // Check the IPv4 address\n  if (!isValidIpv4(ipv4)) {\n    return false;\n  }\n\n  // If no port is given or if the port is valid, return true\n  return (\n    split.length === 1 || (split.length === 2 && isPositiveNumber(split[1]))\n  );\n}\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Whitelist page\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport ListPage from \"../components/list/ListPage\";\nimport api from \"../util/api\";\nimport { isValidDomain } from \"../validate\";\n\nconst Whitelist = props => {\n  const { t } = props;\n\n  return (\n    <ListPage\n      title={t(\"Whitelist\")}\n      placeholder={t(\"Add a domain (example.com or sub.example.com)\")}\n      add={api.addWhitelist}\n      remove={api.removeWhitelist}\n      refresh={api.getWhitelist}\n      isValid={isValidDomain}\n      validationErrorMsg={t(\"Not a valid domain\")}\n      {...props}\n    />\n  );\n};\n\nexport default translate([\"location\", \"lists\"])(Whitelist);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Blacklist page\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport api from \"../util/api\";\nimport ListPage from \"../components/list/ListPage\";\nimport { isValidDomain } from \"../validate\";\n\nconst Blacklist = props => {\n  const { t } = props;\n\n  return (\n    <ListPage\n      title={`${t(\"Blacklist\")} (${t(\"Exact\")})`}\n      placeholder={t(\"Add a domain (example.com or sub.example.com)\")}\n      add={api.addBlacklist}\n      remove={api.removeBlacklist}\n      refresh={api.getBlacklist}\n      isValid={isValidDomain}\n      validationErrorMsg={t(\"Not a valid domain\")}\n      {...props}\n    />\n  );\n};\n\nexport default translate(\"location\")(Blacklist);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Regexlist page\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { translate } from \"react-i18next\";\nimport ListPage from \"../components/list/ListPage\";\nimport api from \"../util/api\";\nimport { isValidRegex } from \"../validate\";\n\nconst Regexlist = props => {\n  const { t } = props;\n\n  return (\n    <ListPage\n      title={`${t(\"Blacklist\")} (${t(\"Regex\")})`}\n      placeholder={t(\"Input a regular expression\")}\n      add={api.addRegexlist}\n      remove={api.removeRegexlist}\n      refresh={api.getRegexlist}\n      isValid={isValidRegex}\n      validationErrorMsg={t(\"Not a valid regular expression\")}\n      {...props}\n    />\n  );\n};\n\nexport default translate([\"location\", \"lists\"])(Regexlist);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: Version - Card component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport { translate } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { Collapse } from \"reactstrap\";\n\nclass VersionCard extends Component {\n  static propTypes = {\n    branch: PropTypes.string.isRequired,\n    hash: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    tag: PropTypes.string.isRequired\n  };\n\n  state = {\n    collapsed: true\n  };\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <div className=\"card border-0 bg-primary\">\n        <div className=\"card-block\">\n          <div className=\"card-icon\">\n            <i className={this.props.icon} />\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <h3>{this.props.name}</h3>\n          <p>\n            {t(\"Version\")}:{\" \"}\n            {this.props.branch === \"master\" ? this.props.tag : \"vDev\"}\n          </p>\n          <button\n            className=\"btn btn-secondary\"\n            type=\"button\"\n            onClick={() => this.setState({ collapsed: !this.state.collapsed })}\n          >\n            {t(\"Details\")}\n          </button>\n          <Collapse isOpen={!this.state.collapsed}>\n            <table\n              className=\"table table-borderless table-sm table-condensed\"\n              style={{ marginTop: \"1rem\", marginBottom: \"0\" }}\n            >\n              <tbody>\n                <tr>\n                  <td>{t(\"Branch\")}</td>\n                  <td>{this.props.branch}</td>\n                </tr>\n                <tr>\n                  <td>{t(\"Tag\")}</td>\n                  <td>{this.props.tag}</td>\n                </tr>\n                <tr>\n                  <td>{t(\"Hash\")}</td>\n                  <td>{this.props.hash}</td>\n                </tr>\n              </tbody>\n            </table>\n          </Collapse>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default translate([\"common\", \"settings\"])(VersionCard);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: Version Information component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport VersionCard from \"./VersionCard\";\nimport { WithAPIData } from \"../common/WithAPIData\";\n\nclass VersionInfo extends Component {\n  static versionPropType = PropTypes.shape({\n    branch: PropTypes.string.isRequired,\n    hash: PropTypes.string.isRequired,\n    tag: PropTypes.string.isRequired\n  }).isRequired;\n\n  static propTypes = {\n    api: VersionInfo.versionPropType,\n    core: VersionInfo.versionPropType,\n    ftl: VersionInfo.versionPropType,\n    web: VersionInfo.versionPropType\n  };\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-xl-3 col-md-6 col-xs-12\">\n          <VersionCard\n            name={t(\"Core\")}\n            icon=\"fa fa-dot-circle-o fa-2x\"\n            branch={this.props.core.branch}\n            hash={this.props.core.hash}\n            tag={this.props.core.tag}\n          />\n        </div>\n        <div className=\"col-xl-3 col-md-6 col-xs-12\">\n          <VersionCard\n            name={t(\"FTL\")}\n            icon=\"fa fa-industry fa-2x\"\n            branch={this.props.ftl.branch}\n            hash={this.props.ftl.hash}\n            tag={this.props.ftl.tag}\n          />\n        </div>\n        <div className=\"col-xl-3 col-md-6 col-xs-12\">\n          <VersionCard\n            name={t(\"API\")}\n            icon=\"fa fa-bullseye fa-2x\"\n            branch={this.props.api.branch}\n            hash={this.props.api.hash}\n            tag={this.props.api.tag}\n          />\n        </div>\n        <div className=\"col-xl-3 col-md-6 col-xs-12\">\n          <VersionCard\n            name={t(\"Web\")}\n            icon=\"fa fa-list-alt fa-2x\"\n            branch={this.props.web.branch}\n            hash={this.props.web.hash}\n            tag={this.props.web.tag}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const initialData = {\n  api: {\n    branch: \"unknown\",\n    hash: \"unknown\",\n    tag: \"unknown\"\n  },\n  core: {\n    branch: \"unknown\",\n    hash: \"unknown\",\n    tag: \"unknown\"\n  },\n  ftl: {\n    branch: \"unknown\",\n    hash: \"unknown\",\n    tag: \"unknown\"\n  },\n  web: {\n    branch: \"unknown\",\n    hash: \"unknown\",\n    tag: \"unknown\"\n  }\n};\n\nexport const TranslatedVersionInfo = translate([\"common\"])(VersionInfo);\n\nexport default props => (\n  <WithAPIData\n    apiCall={api.getVersion}\n    repeatOptions={{ interval: 600000 }}\n    renderInitial={() => <TranslatedVersionInfo {...initialData} {...props} />}\n    renderOk={data => <TranslatedVersionInfo {...data} {...props} />}\n    renderErr={() => <TranslatedVersionInfo {...initialData} {...props} />}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: DHCP \n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport { translate } from \"react-i18next\";\nimport { ignoreCancel, makeCancelable } from \"../../util\";\nimport api from \"../../util/api\";\nimport {\n  Button,\n  Col,\n  Form,\n  FormGroup,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Label\n} from \"reactstrap\";\nimport { isPositiveNumber, isValidHostname, isValidIpv4 } from \"../../validate\";\nimport Alert from \"../common/Alert\";\n\nclass DHCPInfo extends Component {\n  state = {\n    alertMessage: \"\",\n    alertType: \"\",\n    showAlert: false,\n    processing: false,\n    settings: {\n      active: false,\n      ip_start: \"\",\n      ip_end: \"\",\n      router_ip: \"\",\n      lease_time: \"\",\n      domain: \"\",\n      ipv6_support: false\n    }\n  };\n\n  loadDHCPInfo = () => {\n    this.loadHandler = makeCancelable(api.getDHCPInfo());\n    this.loadHandler.promise\n      .then(res => {\n        this.setState({\n          settings: {\n            active: res.active,\n            ip_start: res.ip_start,\n            ip_end: res.ip_end,\n            router_ip: res.router_ip,\n            lease_time: res.lease_time,\n            domain: res.domain,\n            ipv6_support: res.ipv6_support\n          }\n        });\n      })\n      .catch(ignoreCancel);\n  };\n\n  componentDidMount() {\n    this.loadDHCPInfo();\n  }\n\n  componentWillUnmount() {\n    this.loadHandler.cancel();\n\n    if (this.updateHandler) {\n      this.updateHandler.cancel();\n    }\n  }\n\n  /**\n   * Create a function which will update the key in the state with the value\n   * of the event attribute.\n   *\n   * @param key {string} the state to update\n   * @param attr {string} the event target attribute to use\n   * @returns {function(Event)}\n   */\n  onChange = (key, attr) => {\n    return e => {\n      const value = e.target[attr];\n\n      this.setState(oldState => ({\n        settings: {\n          ...oldState.settings,\n          [key]: value\n        }\n      }));\n    };\n  };\n\n  /**\n   * Save changes to DHCP settings\n   *\n   * @param e the submit event\n   */\n  saveSettings = e => {\n    e.preventDefault();\n\n    const { t } = this.props;\n\n    this.setState({\n      alertMessage: t(\"Processing...\"),\n      alertType: \"info\",\n      showAlert: true,\n      processing: true\n    });\n\n    this.updateHandler = makeCancelable(\n      api.updateDHCPInfo(this.state.settings)\n    );\n    this.updateHandler.promise\n      .then(() => {\n        this.setState({\n          alertMessage: t(\"Successfully saved settings\"),\n          alertType: \"success\",\n          showAlert: true,\n          processing: false\n        });\n      })\n      .catch(ignoreCancel)\n      .catch(error => {\n        let message = \"\";\n\n        if (error instanceof Error) {\n          message = error.message;\n        } else {\n          // Translate the API's error message\n          message = t(\"API Error: {{error}}\", {\n            error: t(error.key, error.data)\n          });\n        }\n\n        this.setState({\n          alertMessage: message,\n          alertType: \"danger\",\n          showAlert: true,\n          processing: false\n        });\n      });\n  };\n\n  /**\n   * Settings are valid if the value is valid or if DHCP is disabled and the value is empty.\n   *\n   * @param value the value to check\n   * @param validator the validation function\n   */\n  isSettingValid = (value, validator) => {\n    return (\n      (!this.state.settings.active && value.length === 0) || validator(value)\n    );\n  };\n\n  hideAlert = () => {\n    this.setState({ showAlert: false });\n  };\n\n  render() {\n    const { t } = this.props;\n\n    const isIpStartValid = this.isSettingValid(\n      this.state.settings.ip_start,\n      isValidIpv4\n    );\n    const isIpEndValid = this.isSettingValid(\n      this.state.settings.ip_end,\n      isValidIpv4\n    );\n    const isRouterIpValid = this.isSettingValid(\n      this.state.settings.router_ip,\n      isValidIpv4\n    );\n    const isLeaseTimeValid = this.isSettingValid(\n      this.state.settings.lease_time,\n      isPositiveNumber\n    );\n    const isDomainValid = this.isSettingValid(\n      this.state.settings.domain,\n      isValidHostname\n    );\n\n    const alert = this.state.showAlert ? (\n      <Alert\n        message={this.state.alertMessage}\n        type={this.state.alertType}\n        onClick={this.hideAlert}\n      />\n    ) : null;\n\n    return (\n      <Form onSubmit={this.saveSettings}>\n        {alert}\n        <FormGroup check>\n          <Label check>\n            <Input\n              type=\"checkbox\"\n              checked={this.state.settings.active}\n              onChange={this.onChange(\"active\", \"checked\")}\n            />\n            {t(\"Enabled\")}\n          </Label>\n        </FormGroup>\n        <FormGroup row>\n          <Label for=\"startIP\" sm={2}>\n            {t(\"Start IP\")}\n          </Label>\n          <Col sm={10}>\n            <Input\n              id=\"startIP\"\n              disabled={!this.state.settings.active}\n              value={this.state.settings.ip_start}\n              onChange={this.onChange(\"ip_start\", \"value\")}\n              invalid={!isIpStartValid}\n            />\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label for=\"endIP\" sm={2}>\n            {t(\"End IP\")}\n          </Label>\n          <Col sm={10}>\n            <Input\n              id=\"endIP\"\n              disabled={!this.state.settings.active}\n              value={this.state.settings.ip_end}\n              onChange={this.onChange(\"ip_end\", \"value\")}\n              invalid={!isIpEndValid}\n            />\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label for=\"routerIP\" sm={2}>\n            {t(\"Router IP\")}\n          </Label>\n          <Col sm={10}>\n            <Input\n              id=\"routerIP\"\n              disabled={!this.state.settings.active}\n              value={this.state.settings.router_ip}\n              onChange={this.onChange(\"router_ip\", \"value\")}\n              invalid={!isRouterIpValid}\n            />\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label for=\"leaseTime\" sm={2}>\n            {t(\"Lease Time\")}\n          </Label>\n          <Col sm={10}>\n            <InputGroup>\n              <Input\n                id=\"leaseTime\"\n                disabled={!this.state.settings.active}\n                value={this.state.settings.lease_time}\n                onChange={this.onChange(\"lease_time\", \"value\")}\n                invalid={!isLeaseTimeValid}\n              />\n              <InputGroupAddon addonType=\"append\">Hours</InputGroupAddon>\n            </InputGroup>\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label for=\"domain\" sm={2}>\n            {t(\"Domain\")}\n          </Label>\n          <Col sm={10}>\n            <Input\n              id=\"domain\"\n              disabled={!this.state.settings.active}\n              value={this.state.settings.domain}\n              onChange={this.onChange(\"domain\", \"value\")}\n              invalid={!isDomainValid}\n            />\n          </Col>\n        </FormGroup>\n        <FormGroup check>\n          <Label check>\n            <Input\n              type=\"checkbox\"\n              disabled={!this.state.settings.active}\n              checked={this.state.settings.ipv6_support}\n              onChange={this.onChange(\"ipv6_support\", \"checked\")}\n            />\n            {t(\"IPv6 Support\")}\n          </Label>\n        </FormGroup>\n        <Button\n          type=\"submit\"\n          disabled={\n            this.state.processing ||\n            !isIpStartValid ||\n            !isIpEndValid ||\n            !isRouterIpValid ||\n            !isLeaseTimeValid ||\n            !isDomainValid\n          }\n        >\n          {t(\"Apply\")}\n        </Button>\n      </Form>\n    );\n  }\n}\n\nexport default translate([\"common\", \"settings\", \"api-errors\"])(DHCPInfo);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  A Upstream DNS List Item\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, ListGroupItem } from \"reactstrap\";\n\nconst DnsListItem = ({ address, onRemove }) => (\n  <ListGroupItem>\n    {address}\n    <Button color=\"danger\" size=\"sm\" className=\"pull-right\" onClick={onRemove}>\n      <span className=\"fa fa-trash-o\" />\n    </Button>\n  </ListGroupItem>\n);\n\nDnsListItem.propTypes = {\n  address: PropTypes.string.isRequired,\n  onRemove: PropTypes.func.isRequired\n};\n\nexport default DnsListItem;\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Preconfigured Upstream DNS Servers\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\n/**\n * A list of preconfigured upstream DNS servers. Each item has primary and\n * secondary IPv4 and IPv6 server entries. Some addresses may be empty.\n */\nexport const preconfiguredUpstreams = [\n  {\n    name: \"OpenDNS (ECS)\",\n    primaryIpv4: \"208.67.222.222\",\n    secondaryIpv4: \"208.67.220.220\",\n    primaryIpv6: \"2620:0:ccc::2\",\n    secondaryIpv6: \"2620:0:ccd::2\"\n  },\n  {\n    name: \"Google (ECS)\",\n    primaryIpv4: \"8.8.8.8\",\n    secondaryIpv4: \"8.8.4.4\",\n    primaryIpv6: \"2001:4860:4860:0:0:0:0:8888\",\n    secondaryIpv6: \"2001:4860:4860:0:0:0:0:8844\"\n  },\n  {\n    name: \"Quad9 (filtered, DNSSEC)\",\n    primaryIpv4: \"9.9.9.9\",\n    secondaryIpv4: \"149.112.112.112\",\n    primaryIpv6: \"2620:fe::fe\",\n    secondaryIpv6: \"2620:fe::9\"\n  },\n  {\n    name: \"Quad9 (unfiltered, no DNSSEC)\",\n    primaryIpv4: \"9.9.9.10\",\n    secondaryIpv4: \"149.112.112.10\",\n    primaryIpv6: \"2620:fe::10\",\n    secondaryIpv6: \"2620:fe::fe:10\"\n  },\n  {\n    name: \"Quad9 (filtered + ECS)\",\n    primaryIpv4: \"9.9.9.11\",\n    secondaryIpv4: \"149.112.112.11\",\n    primaryIpv6: \"2620:fe::11\",\n    secondaryIpv6: \"\"\n  },\n  {\n    name: \"Cloudflare\",\n    primaryIpv4: \"1.1.1.1\",\n    secondaryIpv4: \"1.0.0.1\",\n    primaryIpv6: \"2606:4700:4700::1111\",\n    secondaryIpv6: \"2606:4700:4700::1001\"\n  },\n  {\n    name: \"Level3\",\n    primaryIpv4: \"4.2.2.1\",\n    secondaryIpv4: \"4.2.2.2\",\n    primaryIpv6: \"\",\n    secondaryIpv6: \"\"\n  },\n  {\n    name: \"Comodo\",\n    primaryIpv4: \"8.26.56.26\",\n    secondaryIpv4: \"8.20.247.20\",\n    primaryIpv6: \"\",\n    secondaryIpv6: \"\"\n  },\n  {\n    name: \"DNS.WATCH\",\n    primaryIpv4: \"84.200.69.80\",\n    secondaryIpv4: \"84.200.70.40\",\n    primaryIpv6: \"2001:1608:10:25:0:0:1c04:b12f\",\n    secondaryIpv6: \"2001:1608:10:25:0:0:9249:d69b\"\n  }\n];\n\n/**\n * The preconfigured servers, but with an entry for each address. This is used\n * when displaying the servers in a list.\n */\nexport const preconfiguredUpstreamOptions = preconfiguredUpstreams.flatMap(\n  upstream => {\n    // Parse the upstream address information into the new format\n    const parseUpstream = (address, order, type) => ({\n      label: upstream.name + \" \" + order + \" \" + type + \" (\" + address + \")\",\n      address\n    });\n\n    let parsedUpstreams = [];\n\n    if (upstream.primaryIpv4.length > 0) {\n      parsedUpstreams.push(\n        parseUpstream(upstream.primaryIpv4, \"Primary\", \"IPv4\")\n      );\n    }\n\n    if (upstream.secondaryIpv4.length > 0) {\n      parsedUpstreams.push(\n        parseUpstream(upstream.secondaryIpv4, \"Secondary\", \"IPv4\")\n      );\n    }\n\n    if (upstream.primaryIpv6.length > 0) {\n      parsedUpstreams.push(\n        parseUpstream(upstream.primaryIpv6, \"Primary\", \"IPv6\")\n      );\n    }\n\n    if (upstream.secondaryIpv6.length > 0) {\n      parsedUpstreams.push(\n        parseUpstream(upstream.secondaryIpv6, \"Secondary\", \"IPv6\")\n      );\n    }\n\n    return parsedUpstreams;\n  }\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Input For New DNS List Items\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, InputGroup, InputGroupAddon, ListGroupItem } from \"reactstrap\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\nimport { translate } from \"react-i18next\";\nimport { preconfiguredUpstreamOptions } from \"./preconfiguredUpstreams\";\n\n/**\n * A component to add upstream DNS servers. The servers are either selected from\n * a list of preconfigured upstreams, or custom servers can be input.\n */\nclass DnsListNewItem extends Component {\n  static propTypes = {\n    onAdd: PropTypes.func.isRequired,\n    isValid: PropTypes.func.isRequired,\n    upstreams: PropTypes.arrayOf(PropTypes.string).isRequired\n  };\n\n  state = {\n    address: \"\",\n    selected: []\n  };\n\n  constructor(props) {\n    super(props);\n    this.typeahead = React.createRef();\n  }\n\n  /**\n   * Get the currently selected upstream address (either custom or preconfigured)\n   *\n   * @returns {string} the selected upstream address\n   */\n  getAddress = () => {\n    if (this.state.selected.length === 0) {\n      return this.state.address;\n    }\n\n    return this.state.selected[0].address;\n  };\n\n  render() {\n    const { t } = this.props;\n\n    const isAddressValid = this.props.isValid(this.getAddress());\n\n    return (\n      <ListGroupItem>\n        <InputGroup>\n          <Typeahead\n            onInputChange={address => this.setState({ address })}\n            onChange={selected => this.setState({ selected })}\n            options={preconfiguredUpstreamOptions.filter(\n              upstream => !this.props.upstreams.includes(upstream.address)\n            )}\n            selected={this.state.selected}\n            emptyLabel={t(\"Detected custom upstream server\")}\n            bodyContainer\n            ref={this.typeahead}\n          />\n\n          <InputGroupAddon addonType=\"append\">\n            <Button\n              color=\"success\"\n              size=\"sm\"\n              onClick={() => {\n                // Add the server to the list\n                this.props.onAdd(this.getAddress());\n\n                // Reset the input\n                this.setState({ address: \"\", selected: [] });\n                this.typeahead.current.getInstance().clear();\n              }}\n              disabled={!isAddressValid}\n            >\n              <span className=\"fa fa-plus\" />\n            </Button>\n          </InputGroupAddon>\n        </InputGroup>\n      </ListGroupItem>\n    );\n  }\n}\n\nexport default translate(\"settings\")(DnsListNewItem);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  An Editable List of Upstream DNS Servers\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ListGroup } from \"reactstrap\";\nimport DnsListItem from \"./DnsListItem\";\nimport DnsListNewItem from \"./DnsListNewItem\";\nimport { isValidIpv4OptionalPort } from \"../../validate\";\n\n/**\n * Check if an upstream address is unique and valid\n *\n * @param address the address to check\n * @param upstreams the list of current upstreams\n * @returns {boolean} if the upstream address is unique and valid\n */\nexport const isAddressValid = (address, upstreams) =>\n  !upstreams.includes(address) && isValidIpv4OptionalPort(address);\n\nconst DnsList = ({ upstreams, onAdd, onRemove }) => (\n  <ListGroup style={{ overflowY: \"scroll\", maxHeight: \"350px\" }}>\n    {upstreams.map(upstream => (\n      <DnsListItem\n        key={upstream}\n        onRemove={() => onRemove(upstream)}\n        address={upstream}\n      />\n    ))}\n    <DnsListNewItem\n      onAdd={onAdd}\n      isValid={address => isAddressValid(address, upstreams)}\n      upstreams={upstreams}\n    />\n  </ListGroup>\n);\n\nDnsList.propTypes = {\n  upstreams: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onAdd: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired\n};\n\nexport default DnsList;\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: DNS :: Upstream DNS Servers\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Col, FormGroup, Input, Label } from \"reactstrap\";\n\nconst ConditionalForwardingSettings = ({\n  settings,\n  onUpdate,\n  isRouterIpValid,\n  isDomainValid,\n  t\n}) => (\n  <Fragment>\n    <FormGroup check>\n      <Label check>\n        <Input\n          type=\"checkbox\"\n          checked={settings.enabled}\n          onChange={e => onUpdate({ ...settings, enabled: e.target.checked })}\n        />\n        {t(\"Enabled\")}\n      </Label>\n    </FormGroup>\n    <FormGroup row>\n      <Label for=\"routerIP\" sm={5}>\n        {t(\"Router IP\")}\n      </Label>\n      <Col sm={7}>\n        <Input\n          id=\"routerIP\"\n          disabled={!settings.enabled}\n          value={settings.routerIp}\n          onChange={e => onUpdate({ ...settings, routerIp: e.target.value })}\n          invalid={!isRouterIpValid}\n        />\n      </Col>\n    </FormGroup>\n    <FormGroup row>\n      <Label for=\"localDomain\" sm={5}>\n        {t(\"Local Domain Name\")}\n      </Label>\n      <Col sm={7}>\n        <Input\n          id=\"localDomain\"\n          disabled={!settings.enabled}\n          value={settings.domain}\n          onChange={e => onUpdate({ ...settings, domain: e.target.value })}\n          invalid={!isDomainValid}\n        />\n      </Col>\n    </FormGroup>\n  </Fragment>\n);\n\nConditionalForwardingSettings.propTypes = {\n  settings: PropTypes.object.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  isRouterIpValid: PropTypes.bool.isRequired,\n  isDomainValid: PropTypes.bool.isRequired,\n  t: PropTypes.func.isRequired\n};\n\nexport default ConditionalForwardingSettings;\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: DNS :: DNS Options\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Col, FormGroup, Input, Label } from \"reactstrap\";\n\nconst DnsOptionSettings = ({ settings, onUpdate, t }) => (\n  <Fragment>\n    <FormGroup row>\n      <Label for=\"listeningBehavior\" sm={5}>\n        {t(\"Interface listening behavior\")}\n      </Label>\n      <Col sm={7}>\n        <Input\n          id=\"listeningBehavior\"\n          type=\"select\"\n          value={settings.listeningType}\n          onChange={e =>\n            onUpdate({ ...settings, listeningType: e.target.value })\n          }\n        >\n          <option>all</option>\n          <option>local</option>\n          <option>single</option>\n        </Input>\n      </Col>\n    </FormGroup>\n    <FormGroup check>\n      <Label check>\n        <Input\n          type=\"checkbox\"\n          checked={settings.fqdnRequired}\n          onChange={e =>\n            onUpdate({ ...settings, fqdnRequired: e.target.checked })\n          }\n        />\n        {t(\"Forward FQDNs only\")}\n      </Label>\n    </FormGroup>\n    <FormGroup check>\n      <Label check>\n        <Input\n          type=\"checkbox\"\n          checked={settings.bogusPriv}\n          onChange={e => onUpdate({ ...settings, bogusPriv: e.target.checked })}\n        />\n        {t(\"Only forward public reverse lookups\")}\n      </Label>\n    </FormGroup>\n    <FormGroup check>\n      <Label check>\n        <Input\n          type=\"checkbox\"\n          checked={settings.dnssec}\n          onChange={e => onUpdate({ ...settings, dnssec: e.target.checked })}\n        />\n        {t(\"Use DNSSEC\")}\n      </Label>\n    </FormGroup>\n  </Fragment>\n);\n\nDnsOptionSettings.propTypes = {\n  settings: PropTypes.object.isRequired,\n  onUpdate: PropTypes.func.isRequired,\n  t: PropTypes.func.isRequired\n};\n\nexport default DnsOptionSettings;\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: DNS\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport { translate } from \"react-i18next\";\nimport { ignoreCancel, makeCancelable } from \"../../util\";\nimport api from \"../../util/api\";\nimport DnsList from \"./DnsList\";\nimport { Button, Col, Form, FormGroup } from \"reactstrap\";\nimport ConditionalForwardingSettings from \"./ConditionalForwardingSettings\";\nimport DnsOptionSettings from \"./DnsOptionSettings\";\nimport Alert from \"../common/Alert\";\nimport { isValidHostname, isValidIpv4 } from \"../../validate\";\n\nclass DNSInfo extends Component {\n  state = {\n    alertMessage: \"\",\n    alertType: \"\",\n    showAlert: false,\n    processing: false,\n    upstreamDns: [],\n    conditionalForwarding: {\n      enabled: false,\n      routerIp: \"\",\n      domain: \"\"\n    },\n    options: {\n      fqdnRequired: false,\n      bogusPriv: false,\n      dnssec: false,\n      listeningType: \"single\"\n    }\n  };\n\n  loadDNSInfo = () => {\n    this.loadHandler = makeCancelable(api.getDNSInfo());\n    this.loadHandler.promise\n      .then(res => {\n        // If the domain is empty, fill it in with a default.\n        const savedDomain = res.conditional_forwarding.domain;\n        const domain = savedDomain.length === 0 ? \"lan\" : savedDomain;\n\n        this.setState({\n          upstreamDns: res.upstream_dns,\n          conditionalForwarding: {\n            enabled: res.conditional_forwarding.enabled,\n            routerIp: res.conditional_forwarding.router_ip,\n            domain\n          },\n          options: {\n            fqdnRequired: res.options.fqdn_required,\n            bogusPriv: res.options.bogus_priv,\n            dnssec: res.options.dnssec,\n            listeningType: res.options.listening_type\n          }\n        });\n      })\n      .catch(ignoreCancel);\n  };\n\n  componentDidMount() {\n    this.loadDNSInfo();\n  }\n\n  componentWillUnmount() {\n    this.loadHandler.cancel();\n  }\n\n  handleUpstreamAdd = upstream => {\n    this.setState({\n      upstreamDns: this.state.upstreamDns.concat(upstream)\n    });\n  };\n\n  handleUpstreamRemove = upstream => {\n    this.setState({\n      upstreamDns: this.state.upstreamDns.filter(item => item !== upstream)\n    });\n  };\n\n  handleConditionalForwardingUpdate = conditionalForwarding => {\n    this.setState({ conditionalForwarding });\n  };\n\n  handleDnsOptionsUpdate = options => {\n    this.setState({ options });\n  };\n\n  /**\n   * Save changes to DNS settings\n   *\n   * @param e the submit event\n   */\n  saveSettings = e => {\n    e.preventDefault();\n\n    const { t } = this.props;\n\n    this.setState({\n      alertMessage: t(\"Processing...\"),\n      alertType: \"info\",\n      showAlert: true,\n      processing: true\n    });\n\n    this.updateHandler = makeCancelable(\n      api.updateDNSInfo({\n        upstream_dns: this.state.upstreamDns,\n        conditional_forwarding: {\n          enabled: this.state.conditionalForwarding.enabled,\n          router_ip: this.state.conditionalForwarding.routerIp,\n          domain: this.state.conditionalForwarding.domain\n        },\n        options: {\n          fqdn_required: this.state.options.fqdnRequired,\n          bogus_priv: this.state.options.bogusPriv,\n          dnssec: this.state.options.dnssec,\n          listening_type: this.state.options.listeningType\n        }\n      })\n    );\n    this.updateHandler.promise\n      .then(() => {\n        this.setState({\n          alertMessage: t(\"Successfully saved settings\"),\n          alertType: \"success\",\n          showAlert: true,\n          processing: false\n        });\n      })\n      .catch(ignoreCancel)\n      .catch(error => {\n        let message = \"\";\n\n        if (error instanceof Error) {\n          message = error.message;\n        } else {\n          // Translate the API's error message\n          message = t(\"API Error: {{error}}\", {\n            error: t(error.key, error.data)\n          });\n        }\n\n        this.setState({\n          alertMessage: message,\n          alertType: \"danger\",\n          showAlert: true,\n          processing: false\n        });\n      });\n  };\n\n  isCFSettingValid = (value, validator) => {\n    return (\n      (!this.state.conditionalForwarding.enabled && value.length === 0) ||\n      validator(value)\n    );\n  };\n\n  hideAlert = () => {\n    this.setState({ showAlert: false });\n  };\n\n  render() {\n    const { t } = this.props;\n\n    const isRouterIpValid = this.isCFSettingValid(\n      this.state.conditionalForwarding.routerIp,\n      isValidIpv4\n    );\n\n    const isDomainValid = this.isCFSettingValid(\n      this.state.conditionalForwarding.domain,\n      isValidHostname\n    );\n\n    const alert = this.state.showAlert ? (\n      <Alert\n        message={this.state.alertMessage}\n        type={this.state.alertType}\n        onClick={this.hideAlert}\n      />\n    ) : null;\n\n    return (\n      <Form onSubmit={this.saveSettings}>\n        {alert}\n        <FormGroup row>\n          <Col sm={6}>\n            <h3>{t(\"Upstream DNS Servers\")}</h3>\n            <DnsList\n              onAdd={this.handleUpstreamAdd}\n              onRemove={this.handleUpstreamRemove}\n              upstreams={this.state.upstreamDns}\n            />\n          </Col>\n          <Col sm={6}>\n            <h3>{t(\"Conditional Forwarding\")}</h3>\n            <ConditionalForwardingSettings\n              settings={this.state.conditionalForwarding}\n              onUpdate={this.handleConditionalForwardingUpdate}\n              isRouterIpValid={isRouterIpValid}\n              isDomainValid={isDomainValid}\n              t={t}\n            />\n            <h3>{t(\"DNS Options\")}</h3>\n            <DnsOptionSettings\n              settings={this.state.options}\n              onUpdate={this.handleDnsOptionsUpdate}\n              t={t}\n            />\n          </Col>\n        </FormGroup>\n        <Button\n          type=\"submit\"\n          disabled={this.state.processing || !isRouterIpValid || !isDomainValid}\n        >\n          {t(\"Apply\")}\n        </Button>\n      </Form>\n    );\n  }\n}\n\nexport default translate([\"common\", \"settings\"])(DNSInfo);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: Network component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport { Col, Form, FormGroup, Input, Label } from \"reactstrap\";\nimport { WithAPIData } from \"../common/WithAPIData\";\n\nclass NetworkInfo extends Component {\n  static propTypes = {\n    interface: PropTypes.string.isRequired,\n    ipv4Address: PropTypes.string.isRequired,\n    ipv6Address: PropTypes.string.isRequired,\n    hostname: PropTypes.string.isRequired\n  };\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <Form>\n        <FormGroup row>\n          <Label className=\"bold\" for=\"interface\" sm={4}>\n            {t(\"Interface\")}\n          </Label>\n          <Col sm={8}>\n            <Input plaintext id=\"interface\">\n              {this.props.interface}\n            </Input>\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label className=\"bold\" for=\"ipv4_address\" sm={4}>\n            {t(\"IPv4 address\")}\n          </Label>\n          <Col sm={8}>\n            <Input plaintext id=\"ipv4_address\">\n              {this.props.ipv4Address}\n            </Input>\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label className=\"bold\" for=\"ipv6_address\" sm={4}>\n            {t(\"IPv6 address\")}\n          </Label>\n          <Col sm={8}>\n            <Input plaintext id=\"ipv6_address\">\n              {this.props.ipv6Address}\n            </Input>\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Label className=\"bold\" for=\"hostname\" sm={4}>\n            {t(\"Hostname\")}\n          </Label>\n          <Col sm={8}>\n            <Input plaintext id=\"hostname\">\n              {this.props.hostname}\n            </Input>\n          </Col>\n        </FormGroup>\n      </Form>\n    );\n  }\n}\n\nexport const transformData = data => ({\n  interface: data.interface,\n  ipv4Address: data.ipv4_address,\n  ipv6Address: data.ipv6_address,\n  hostname: data.hostname\n});\n\nexport const initialData = () => ({\n  interface: \"\",\n  ipv4Address: \"\",\n  ipv6Address: \"\",\n  hostname: \"\"\n});\n\nexport const TranslatedNetworkInfo = translate([\"common\", \"settings\"])(\n  NetworkInfo\n);\n\nexport default props => (\n  <WithAPIData\n    apiCall={api.getNetworkInfo}\n    repeatOptions={{\n      interval: 600000\n    }}\n    renderInitial={() => (\n      <TranslatedNetworkInfo {...initialData()} {...props} />\n    )}\n    renderOk={data => (\n      <TranslatedNetworkInfo {...transformData(data)} {...props} />\n    )}\n    renderErr={() => <TranslatedNetworkInfo {...initialData()} {...props} />}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings :: FTL Information component\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\nimport api from \"../../util/api\";\nimport { WithAPIData } from \"../common/WithAPIData\";\n\nclass FTLInfo extends Component {\n  static propTypes = {\n    fileSize: PropTypes.number.isRequired,\n    queries: PropTypes.number.isRequired,\n    sqliteVersion: PropTypes.string.isRequired\n  };\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <pre>\n        {t(\"Queries\")}: {this.props.queries}\n        <br />\n        {t(\"Filesize\")}: {this.props.fileSize.toLocaleString()} B<br />\n        {t(\"SQLite version\")}: {this.props.sqliteVersion.toLocaleString()}\n        <br />\n      </pre>\n    );\n  }\n}\n\nexport const transformData = data => ({\n  fileSize: data.filesize,\n  queries: data.queries,\n  sqliteVersion: data.sqlite_version\n});\n\nexport const initialData = {\n  fileSize: 0,\n  queries: 0,\n  sqliteVersion: \"\"\n};\n\nexport const TranslatedFTLInfo = translate([\"settings\"])(FTLInfo);\n\nexport default props => (\n  <WithAPIData\n    apiCall={api.getFTLdb}\n    repeatOptions={{\n      interval: 600000\n    }}\n    renderInitial={() => <TranslatedFTLInfo {...initialData} {...props} />}\n    renderOk={data => <TranslatedFTLInfo {...transformData(data)} {...props} />}\n    renderErr={() => <TranslatedFTLInfo {...initialData} {...props} />}\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings Page - Networking DNS & DHCP\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport { translate } from \"react-i18next\";\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\nimport DHCPInfo from \"../components/settings/DHCPInfo\";\nimport DNSInfo from \"../components/settings/DNSInfo\";\nimport NetworkInfo from \"../components/settings/NetworkInfo\";\nimport FTLInfo from \"../components/settings/FTLInfo\";\n\nclass Networking extends Component {\n  state = {\n    activeTab: \"network\"\n  };\n\n  /**\n   * Set the active tab to the input\n   *\n   * @param tab the tab ID to switch to\n   */\n  setTab = tab => {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  };\n\n  /**\n   * Create a navigation tab\n   *\n   * @param id the tab's ID\n   * @param name the tab's display name\n   * @returns {NavItem} the tab component\n   */\n  tab = (id, name) => (\n    <NavItem>\n      <NavLink\n        active={this.state.activeTab === id}\n        onClick={() => this.setTab(id)}\n      >\n        {name}\n      </NavLink>\n    </NavItem>\n  );\n\n  /**\n   * Create tab content\n   *\n   * @param id the tab's ID\n   * @param component the component to render in the tab\n   * @returns {TabPane} the tab content component\n   */\n  tabContent = (id, component) => <TabPane tabId={id}>{component}</TabPane>;\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <div className=\"animated fadeIn\">\n        <Nav tabs>\n          {this.tab(\"network\", t(\"Network\"))}\n          {this.tab(\"dhcp\", t(\"DHCP\"))}\n          {this.tab(\"dns\", t(\"DNS\"))}\n          {this.tab(\"ftl\", t(\"FTL\"))}\n        </Nav>\n        <TabContent activeTab={this.state.activeTab}>\n          {this.tabContent(\"network\", <NetworkInfo />)}\n          {this.tabContent(\"dhcp\", <DHCPInfo />)}\n          {this.tabContent(\"dns\", <DNSInfo />)}\n          {this.tabContent(\"ftl\", <FTLInfo />)}\n        </TabContent>\n      </div>\n    );\n  }\n}\n\nexport default translate([\"common\", \"settings\"])(Networking);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Forgot Password Reminder\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { translate } from \"react-i18next\";\n\nclass ForgotPassword extends Component {\n  state = {\n    collapsed: true\n  };\n\n  /**\n   * Handle collapsing the body when clicked\n   */\n  onClick = () => {\n    this.setState({ collapsed: !this.state.collapsed });\n  };\n\n  /**\n   * @returns {Boolean|boolean} If the body should be expanded\n   */\n  isExpanded = () => this.props.error || !this.state.collapsed;\n\n  render() {\n    const { t } = this.props;\n\n    return (\n      <div style={{ width: \"100%\" }}>\n        <div\n          className={\n            \"card \" + (this.props.error ? \"border-danger\" : \"border-primary\")\n          }\n        >\n          <div\n            className={\n              \"card-header \" + (this.props.error ? \"bg-danger\" : \"bg-primary\")\n            }\n            style={{ paddingRight: \"10px\" }}\n          >\n            <h3\n              className=\"card-title\"\n              style={{ fontSize: \"18px\", display: \"inline-block\", margin: 0 }}\n            >\n              {t(\"Forgot Password\")}\n            </h3>\n\n            <span className=\"pull-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-card-tool\"\n                onClick={this.onClick}\n              >\n                <i\n                  className={\n                    \"fa \" + (this.isExpanded() ? \"fa-minus\" : \"fa-plus\")\n                  }\n                />\n              </button>\n            </span>\n          </div>\n          <div\n            className={\n              \"card-body bg-light\" + (this.isExpanded() ? \"\" : \" collapse\")\n            }\n            style={{ padding: \"10px\" }}\n          >\n            {t(\"forgot_password_description\")}\n            <pre style={{ textAlign: \"center\" }}>sudo pihole -a -p</pre>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nForgotPassword.propTypes = {\n  error: PropTypes.bool.isRequired\n};\n\nexport default translate(\"login\")(ForgotPassword);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Login page\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component, Fragment } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport sha from \"sha.js\";\nimport api from \"../util/api\";\nimport logo from \"../img/logo.svg\";\nimport { routes } from \"../routes\";\nimport ForgotPassword from \"../components/login/ForgotPassword\";\nimport { translate } from \"react-i18next\";\nimport config from \"../config\";\n\nclass Login extends Component {\n  state = {\n    password: \"\",\n    error: false,\n    cookiesEnabled: false\n  };\n\n  componentWillMount() {\n    // Check if cookies are enabled\n    if (navigator.cookieEnabled) this.setState({ cookiesEnabled: true });\n  }\n\n  /**\n   * Called when the user types into the password box.\n   * If they clicked Enter, try to authenticate them.\n   * Otherwise update the password in the state.\n   *\n   * @param e the event\n   */\n  handlePasswordChange = e => {\n    if (e.keyCode === 13) this.authenticate();\n    else this.setState({ password: e.target.value });\n  };\n\n  /**\n   * Try to authenticate the user\n   */\n  authenticate = e => {\n    // Prevent the page from reloading when the user gets redirected\n    e.preventDefault();\n\n    // Hash the password twice before sending to the API\n    let hashedPassword = sha(\"sha256\")\n      .update(this.state.password)\n      .digest(\"hex\");\n    hashedPassword = sha(\"sha256\")\n      .update(hashedPassword)\n      .digest(\"hex\");\n\n    // Clear the state\n    this.setState({ password: \"\", error: false });\n\n    // Send the password to the API to authenticate the user\n    api\n      .authenticate(hashedPassword)\n      .then(data => {\n        // Verify status\n        if (data.status !== \"success\") {\n          console.log(\"Failed to log in:\");\n          console.log(data);\n          return;\n        }\n\n        api.loggedIn = true;\n\n        if (config.fakeAPI) {\n          // When using the fake API, set the cookie ourselves\n          document.cookie = \"user_id=;\";\n        }\n\n        // Redirect to the page the user was originally going to, or if that doesn't exist, go to home\n        const locationState = this.props.location.state || \"/\";\n        this.props.history.push(locationState.from.pathname);\n      })\n      // If there was an error, tell the user they used the wrong password\n      .catch(() => this.setState({ error: true }));\n  };\n\n  render() {\n    // If the user is already logged in, then go to the home page\n    if (api.loggedIn) return <Redirect to=\"/\" />;\n\n    const { t } = this.props;\n\n    return (\n      <div\n        className=\"mainbox col-md-8 offset-md-2 col-lg-6 offset-lg-3\"\n        style={{ float: \"none\" }}\n      >\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div style={{ textAlign: \"center\" }}>\n              <img src={logo} alt=\"Logo\" width=\"30%\" />\n            </div>\n            <br />\n\n            <div className=\"card-title text-center\" style={{ marginBottom: 0 }}>\n              <span className=\"logo-lg\" style={{ fontSize: \"25px\" }}>\n                Pi-\n                <b>hole</b>\n              </span>\n            </div>\n            <div className=\"login-box-msg\">\n              {t(\"Sign in to start your session\")}\n              {// If the user tried to go to a protected page and is not logged in,\n              // tell them they will be redirected once login is successful\n              this.props.location.state &&\n              this.props.location.state.from.pathname in routes(t) ? (\n                <Fragment>\n                  <br />\n                  {t('You will be transferred to the \"{{page}}\" page', {\n                    page: routes(t)[this.props.location.state.from.pathname]\n                  })}\n                </Fragment>\n              ) : null}\n              {// If cookies are not enabled (or detected), show a warning\n              !this.state.cookiesEnabled ? (\n                <div className=\"text-center\" style={{ color: \"#F00\" }}>\n                  {t(\"Verify that cookies are allowed for {{host}}\", {\n                    host: window.location.host\n                  })}\n                </div>\n              ) : null}\n            </div>\n            {this.state.error ? (\n              <div className=\"form-group has-error login-box-msg\">\n                <label className=\"control-label\">\n                  <i className=\"fa fa-times-circle-o\" /> {t(\"Wrong Password!\")}\n                </label>\n              </div>\n            ) : null}\n          </div>\n\n          <div className=\"card-body\">\n            <form id=\"loginform\">\n              <div\n                className={\n                  \"input-group\" + (this.state.error ? \" has-error\" : \"\")\n                }\n              >\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  value={this.state.password}\n                  onChange={this.handlePasswordChange}\n                  placeholder={t(\"Password\")}\n                  autoFocus\n                />\n                <div className=\"input-group-append\">\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-primary\"\n                    onClick={this.authenticate}\n                  >\n                    {t(\"Log in\")}\n                  </button>\n                </div>\n              </div>\n              <br />\n              <ForgotPassword error={this.state.error} />\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default translate([\"login\", \"location\"])(Login);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Logout the user\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport api from \"../util/api\";\nimport config from \"../config\";\n\nexport default class Logout extends Component {\n  componentWillMount() {\n    api.loggedIn = false;\n\n    if (config.fakeAPI) {\n      // When using the fake API, don't try deleting the resource\n      // (it results in an error). Instead, delete the cookie.\n      document.cookie =\n        \"user_id=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n    } else {\n      api.logout();\n    }\n  }\n\n  render() {\n    return <Redirect to=\"/\" />;\n  }\n}\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Navigation information\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport Dashboard from \"./views/Dashboard\";\nimport QueryLog from \"./components/log/QueryLog\";\nimport Whitelist from \"./views/Whitelist\";\nimport Blacklist from \"./views/Blacklist\";\nimport Regexlist from \"./views/Regexlist\";\nimport Versions from \"./views/Versions\";\nimport Networking from \"./views/Networking\";\nimport Login from \"./views/Login\";\nimport Logout from \"./views/Logout\";\n\nexport const routes = t => ({\n  \"/dashboard\": t(\"Dashboard\"),\n  \"/query-log\": t(\"Query Log\"),\n  \"/whitelist\": t(\"Whitelist\"),\n  \"/blacklist/exact\": `${t(\"Blacklist\")} (${t(\"Exact\")})`,\n  \"/blacklist/regex\": `${t(\"Blacklist\")} (${t(\"Regex\")})`,\n  \"/settings/versions\": t(\"Versions\"),\n  \"/settings/networking\": t(\"Networking\"),\n  \"/login\": t(\"Login\"),\n  \"/logout\": t(\"Logout\")\n});\n\nexport const nav = [\n  {\n    name: \"Dashboard\",\n    url: \"/dashboard\",\n    component: Dashboard,\n    icon: \"fa fa-dashboard\",\n    auth: false\n  },\n  {\n    name: \"Query Log\",\n    url: \"/query-log\",\n    component: QueryLog,\n    icon: \"fa fa-database\",\n    auth: true\n  },\n  {\n    name: \"Whitelist\",\n    url: \"/whitelist\",\n    component: Whitelist,\n    icon: \"fa fa-check-circle-o\",\n    auth: false\n  },\n  {\n    name: \"Blacklist\",\n    url: \"/blacklist\",\n    icon: \"fa fa-ban\",\n    auth: false,\n    children: [\n      {\n        name: \"Exact\",\n        url: \"/blacklist/exact\",\n        component: Blacklist,\n        icon: \"fa fa-ban\",\n        auth: false\n      },\n      {\n        name: \"Regex\",\n        url: \"/blacklist/regex\",\n        component: Regexlist,\n        icon: \"fa fa-ban\",\n        auth: false\n      }\n    ]\n  },\n  {\n    name: \"Settings\",\n    url: \"/settings\",\n    icon: \"fa fa-wrench\",\n    auth: true,\n    children: [\n      {\n        name: \"Versions\",\n        url: \"/settings/versions\",\n        component: Versions,\n        icon: \"fa fa-download\",\n        auth: true\n      },\n      {\n        name: \"Networking\",\n        url: \"/settings/networking\",\n        component: Networking,\n        icon: \"fa fa-sitemap\",\n        auth: true\n      }\n    ]\n  },\n  {\n    name: \"Login\",\n    url: \"/login\",\n    component: Login,\n    icon: \"fa fa-user\",\n    auth: false,\n    authStrict: true\n  },\n  {\n    name: \"Logout\",\n    url: \"/logout\",\n    component: Logout,\n    icon: \"fa fa-user-times\",\n    auth: true,\n    authStrict: true\n  }\n];\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Dashboard page\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React, { Fragment } from \"react\";\nimport SummaryStats from \"../components/dashboard/SummaryStats\";\nimport QueriesGraph from \"../components/dashboard/QueriesGraph\";\nimport ClientsGraph from \"../components/dashboard/ClientsGraph\";\nimport QueryTypesChart from \"../components/dashboard/QueryTypesChart\";\nimport UpstreamsChart from \"../components/dashboard/UpstreamsChart\";\nimport TopDomains from \"../components/dashboard/TopDomains\";\nimport TopBlocked from \"../components/dashboard/TopBlocked\";\nimport TopClients from \"../components/dashboard/TopClients\";\nimport api from \"../util/api\";\n\nexport default () => (\n  <div className=\"animated fadeIn\">\n    <div className=\"row\">\n      <SummaryStats />\n    </div>\n    <div className=\"row\">\n      <div className=\"col-md-12\">\n        <QueriesGraph />\n      </div>\n    </div>\n    {api.loggedIn ? (\n      <Fragment>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <ClientsGraph />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <QueryTypesChart />\n          </div>\n          <div className=\"col-md-6\">\n            <UpstreamsChart />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-xl-4\">\n            <TopDomains />\n          </div>\n          <div className=\"col-md-6 col-xl-4\">\n            <TopBlocked />\n          </div>\n          <div className=\"col-md-6 col-xl-4\">\n            <TopClients />\n          </div>\n        </div>\n      </Fragment>\n    ) : null}\n  </div>\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Settings - Software versions\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport VersionInfo from \"../components/settings/VersionInfo\";\n\nexport default () => (\n  <div className=\"animated fadeIn\">\n    <div className=\"container-flex\">\n      <VersionInfo />\n    </div>\n  </div>\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Main container of the web interface (performs main routing)\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Header, { mobileSidebarHide } from \"../components/common/Header\";\nimport Sidebar from \"../components/common/Sidebar\";\nimport Footer from \"../components/common/Footer\";\nimport api from \"../util/api\";\nimport { nav } from \"../routes\";\n\nexport default props => (\n  <div className=\"app\">\n    <Header />\n    <div className=\"app-body\">\n      <Sidebar items={nav} {...props} />\n      <main className=\"main\" onClick={mobileSidebarHide}>\n        <div className=\"container-fluid\" style={{ marginTop: \"1.5rem\" }}>\n          <Switch>\n            <Redirect exact from=\"/\" to=\"/dashboard\" />\n            {nav.map(createRoute)}\n          </Switch>\n        </div>\n      </main>\n    </div>\n    <Footer />\n  </div>\n);\n\n/**\n * Create a route from the route data.\n * If the route has children, an array of routes will be returned.\n *\n * @param routeData the route data (see routes.js)\n */\nconst createRoute = routeData => {\n  if (routeData.children) {\n    return routeData.children.map(createRoute);\n  }\n\n  return routeData.auth ? (\n    <AuthRoute\n      key={routeData.url}\n      path={routeData.url}\n      component={routeData.component}\n    />\n  ) : (\n    <Route\n      key={routeData.url}\n      path={routeData.url}\n      component={routeData.component}\n    />\n  );\n};\n\n/**\n * Create a route which requires authentication.\n * If the user is unauthenticated, they will be redirected to the login page.\n * If the user logs in at the redirected login page, they will go to their original destination.\n *\n * @param Component The component that the authenticated user will see\n * @param rest The rest of the Route arguments\n * @returns Route\n */\nconst AuthRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      api.loggedIn ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/login\",\n            state: { from: props.location }\n          }}\n        />\n      )\n    }\n  />\n);\n","/* Pi-hole: A black hole for Internet advertisements\n*  (c) 2017 Pi-hole, LLC (https://pi-hole.net)\n*  Network-wide ad blocking via your own hardware.\n*\n*  Web Interface\n*  Starting point for React\n*\n*  This file is copyright under the latest version of the EUPL.\n*  Please see LICENSE file for your rights under this license. */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport \"ionicons/dist/css/ionicons.min.css\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport \"simple-line-icons/css/simple-line-icons.css\";\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\nimport \"./scss/style.css\";\nimport Full from \"./containers/Full\";\nimport api from \"./util/api\";\nimport { setupI18n } from \"./i18n\";\n\n// Before rendering anything, check if there is a session cookie.\n// Note: the user could have an old session, so the first API call\n// will set loggedIn to false if necessary\napi.loggedIn = document.cookie.includes(\"user_id=\");\n\nsetupI18n();\n\nReactDOM.render(\n  <BrowserRouter>\n    <Switch>\n      <Route path=\"/\" name=\"Home\" component={Full} />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n","import i18n from \"i18next\";\nimport XHR from \"i18next-xhr-backend\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport { reactI18nextModule } from \"react-i18next\";\nimport config from \"./config\";\n\nexport function setupI18n() {\n  i18n\n    .use(XHR)\n    .use(LanguageDetector)\n    .use(reactI18nextModule)\n    .init({\n      fallbackLng: \"en\",\n      ns: [\"common\"],\n      defaultNS: \"common\",\n      fallbackNS: [\n        \"dashboard\",\n        \"footer\",\n        \"lists\",\n        \"location\",\n        \"login\",\n        \"query-log\",\n        \"settings\",\n        \"api-errors\"\n      ],\n      nsSeparator: false,\n      keySeparator: false,\n      debug: config.developmentMode,\n      interpolation: {\n        // Handled by React\n        escapeValue: false\n      },\n      backend: {\n        loadPath: process.env.PUBLIC_URL + \"/i18n/{{lng}}/{{ns}}.json\"\n      },\n      react: {\n        // Wait until translations are loaded before rendering\n        wait: true\n      }\n    });\n}\n","module.exports = __webpack_public_path__ + \"static/media/logo.00d87c43.svg\";"],"sourceRoot":""}